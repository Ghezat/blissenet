<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head.ejs') %>
    <link rel="stylesheet" href="/toastr/toastr.min.css"> <!-- tiene que despues del CDN de bootstrap -->
    <script src="/toastr/toastr.min.js"></script>
    <title>Blissenet Signin</title>

</head>
<style>
    
    .toast-success {
      /* Esta clase es unicamente para dar color al alert toastr de tipo success que debe ser violeta */
        background-color: #6f42c1; /* Azul tirando a morado */
        color: white; /* Color del texto */
    }  

    .buttonLogin {
        box-shadow: 0px 0px 0px 0px;
        transition: 1s ease;
    }

    .buttonLogin:hover {
        box-shadow: 0px 0px 1px 2px #ffbd00;
    }


</style>
<body class="mainTheme">

    <main>

    <%- include('../partials/navi-simple.ejs') %>
    

    <% if (signIn.length !==0 ) { %>
    <div class="container-fluid border-top" style="background-size: cover; background-image: url('<%= signIn[0].url %>'); height: 100%;" >
    <% } else { %>
    <div class="container-fluid">    
    <% }; %>    

        <div class="row d-flex justify-content-end mt-4">
            <div class="col-xl-4 col-lg-4 col-md-5 col-sm-10 col-12">
 
                <div class="card formTransp mt-4 rounded-2 shadow">

                    <div class="card-header">
                        <i class="bi bi-door-open mx-1"></i> Choose the Login Method
                    </div>
                   
                    <div class="card-body p-4 border-top border-dark">
      
                       
                        <div class="alert rounded-pill border border-dark mb-5" style="background-color: rgba(0, 0, 0, .5);">
                            <p class="ms-3">Elijes como deseas acceder a Blissenet.com</p>
                        </div>            

                        <form action="/auth/google" method="get">

                            <div class="form-group my-4">
                                <button type="submit" class="form-control btn btn-light rounded-pill d-flex py-1 buttonLogin">
                                     
                                    <div class="containerImg d-flex justify-content-start align-items-center" style="width: auto">
                                        <img src="/img/iconGoogle.png" alt="icono de google" style="width: 45px;">
                                    </div>
                                    <div class="containertext me-4 d-flex justify-content-center align-items-center" style="width: 100%;">
                                        <span style="font-size: 18px; color: rgb(66, 66, 66);"> <b> Acceder con Google </b>  </span> 
                                    </div>
                                    
                                </button>
                            </div>

                        </form>


                        <div class="form-group my-4">
                            <a class="form-control btn btn-light rounded-pill d-flex justify-content-start align-items-center py-1 buttonLogin" href="/myaccount/signin">

                                    <div class="containerImg d-flex justify-content-start align-items-center" style="width: auto">
                                        <img src="/img/iconPassword.png" alt="icono de google" style="width: 45px;">
                                    </div>
                                    <div class="containertext me-3 d-flex justify-content-center align-items-center" style="width: 100%;">
                                        <span style="font-size: 18px; color: rgb(66, 66, 66);"> <b> Acceder con Password </b>  </span> 
                                    </div>

                            </a>
                        </div>

                        <div class="form-group d-flex justify-content-center py-2" style="font-size: 16px;">
                            <a class="text-light" href="/policy"> Conocer nuestra Politica de Uso.</a>
                        </div>
                        
                        

                    </div>    
            
                </div>
                 
            </div>
        </div>
        
    </div>

    <%- include('../partials/scripts.ejs')%>
    <%- include('../partials/scriptsOnlyNavi-simpleNoIcons.ejs') %>

    </main>
</body>
</html>



<script>


    function mostrarToast(mensaje, posicion, color, titulo = '', conBotonCerrar = false) {
        // Configuración predeterminada
        toastr.options = {
            "closeButton": conBotonCerrar, // Agregar botón de cerrar si se solicita
            "debug": false,
            "newestOnTop": false,
            "progressBar": !conBotonCerrar, // Si tiene botón de cerrar, no mostrar barra de progreso
            "preventDuplicates": false,
            "onclick": null,
            "showDuration": "600",
            "hideDuration": "1000",
            "timeOut": conBotonCerrar ? false : "8000", // No se oculta automáticamente si tiene botón de cerrar
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
        };
  
        // Configurar la posición
        switch (posicion) {
            case 'center':
                toastr.options.positionClass = 'toast-top-center';
                break;
            case 'left':
                toastr.options.positionClass = 'toast-top-left';
                break;
            case 'right':
                toastr.options.positionClass = 'toast-top-right';
                break;
            default:
                toastr.options.positionClass = 'toast-top-right'; // Posición predeterminada
        }
  
        // Mostrar el mensaje según el color especificado
        switch (color) {
            case 'success':
                titulo ? toastr.success(mensaje, titulo) : toastr.success(mensaje);
                break;
            case 'info':
                titulo ? toastr.info(mensaje, titulo) : toastr.info(mensaje);
                break;
            case 'warning':
                titulo ? toastr.warning(mensaje, titulo) : toastr.warning(mensaje);
                break;
            case 'danger':
                titulo ? toastr.error(mensaje, titulo) : toastr.error(mensaje);
                break;
            case 'primary':
                titulo ? toastr.info(mensaje, titulo, { toastClass: 'toast-primary' }) : toastr.info(mensaje, '', { toastClass: 'toast-primary' });
                break;
            case 'dark':
                titulo ? toastr.info(mensaje, titulo, { toastClass: 'toast-dark' }) : toastr.info(mensaje, '', { toastClass: 'toast-dark' });
                break;
            default:
                console.warn('Color no válido. Usando el color por defecto (success).');
                titulo ? toastr.success(mensaje, titulo) : toastr.success(mensaje);
        }
    }
  
  

   //mostrarToast( response , 'right', 'danger', '', true ); // Agrega título aquí
  
</script>
