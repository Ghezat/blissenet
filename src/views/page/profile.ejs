<!DOCTYPE html>
<html lang="en">

<head>

    <%- include('../partials/head.ejs') %>
        <title>Blissenet Perfil</title>

</head>
<style>

.containerBanner{
    transition: 1s all ease;
}

.containerBanner:hover{
    #bannerUppload{
        opacity: 1;
    }

    #bannerUpploadDefault{
        opacity: 1;
    }
}

#bannerUppload{
    width: 40px;
    height: 40px;
    background-color: white;
    border-radius: 50%;
    opacity: 0;
    transition: 1s all ease;
}

#bannerUpploadDefault{
    width: 40px;
    height: 40px;
    background-color: white;
    border-radius: 50%;
    opacity: 0;
    transition: 1s all ease;
}


.imgPerfil{
    width: 55px;
    height: 55px;
    object-fit: cover;
    border-radius: 4px;
    transition: 1.5s filter ease;
    cursor: pointer;
}

.searchFilter,.labelFilter{
    cursor: pointer;
}

.imgPerfil:hover{
    filter: grayscale(100%);
}

    .sinBody{
        display: none;
    }

.textLight{
    /* trabaja en conjunto con themaTextLight */
    color: white;
} 

.claveX, .claveXns{
    cursor: pointer;
}

.claveXns{
    border: 1px solid red;
    padding: 2px;
}

.ContentParaDescargarEnPerfil{
    display: flex;
    justify-content: center;

    position: relative;
}

.paraDescargarEnPerfil{
    width: 450px;
}

#qr-canvas{
        position: absolute;
        top: 225px;
        z-index: 200;
        width: 165px;
    }

.urlTiendaEnPerfilParaDescargar{
    position: absolute;
    top: 170px;
    font-size: 15px;
    font-weight: bold;
    color: white;
    z-index: 200;
}    

.usernameEnPerfilParaDescargar{
    position: absolute;
    top: 450px;
    font-size: 24px;
    font-weight: bold;
    z-index: 200;

}


@media screen and (min-width: 290px) and (max-width: 499px ){


    .ContentParaDescargarEnPerfil{
        display: flex;
        justify-content: center;
        position: relative;
    }

    .paraDescargarEnPerfil{
        width: 290px;
    }

    #qr-canvas{
        position: absolute;
        top: 145px;
        z-index: 200;
        width: 105px;
    }

    .urlTiendaEnPerfilParaDescargar{
        position: absolute;
        top: 110px;
        font-size: 11px;
        font-weight: bold;
        color: white;
        z-index: 200;
    } 

    .usernameEnPerfilParaDescargar{
        position: absolute;
        top: 290px;
        font-size: 18px;
        font-weight: bold;
        z-index: 200;

    } 
}

</style>

<body class="mainTheme" style="max-width: 100vw; min-height: 100vh;">
    <main style="max-width: 100% !important;">

        <%- include('../partials/navi-simple.ejs') %>

        <% if (profSuccess) { %>
           <%- include('../alert/profSuccess.ejs') %> 
        <% }; %>
    
        <% if (updateSuccess) { %>
            <%- include('../alert/updateSuccess.ejs') %> 
        <% }; %>
        
         <% if (changePasswSuccess) { %>
            <%- include('../alert/changePasswSuccess.ejs') %> 
         <% }; %>
                
         <% if (errorChange) { %>
            <%- include('../alert/errorChange.ejs') %> 
         <% }; %>
         
         <% if (errorToken) { %>
            <%- include('../alert/errorToken.ejs') %> 
         <% }; %>
         
         <% if (noProfile) { %>
            <%- include('../alert/noProfile.ejs') %> 
         <% }; %>

         <% if (avatarErrorCharge) { %>
            <%- include('../alert/avatarErrorCharge.ejs') %> 
         <% }; %>

         <% if (avatarErrorSizeMimetype) { %>
            <%- include('../alert/avatarErrorSizeMimetype.ejs') %> 
         <% }; %>

         <% if (bannerErrorSizeMimetype){ %>
            <%- include('../alert/bannerErrorSizeMimetype.ejs') %> 
         <% }; %>

         <% if (bannerErrorCharge){ %>
            <%- include('../alert/bannerErrorCharge.ejs') %> 
         <% }; %>
         
         <% if (withoutDefinedBanner){ %>
            <%- include('../alert/withoutDefinedBanner.ejs') %> 
         <% }; %>

         <% if (catchError){ %>
            <%- include('../alert/catchError.ejs') %> 
         <% }; %>

         
         

         <% if (user) { %>

            <% if (bannerDefaultRestart){ %>
                <%- include('../alert/bannerDefaultRestart.ejs') %> 
             <% }; %>


        <div class="container-fluid d-flex justify-content-start py-2" style="background: linear-gradient(90deg, rgba(146,0,255,1) 0%, rgba(174,65,255,1) 50%, rgba(13,110,253,1) 100%)">
            <span class="ms-2 p-0" style="font-weight: 400; color: #ffde00;"> <b> Perfil </b>  </span>
        </div>   
 
        
         <div class="container-fluid mt-0">
                <div class="row p-0">
                    <div class="col-12 p-0">
                        
                        <div class="row p-0 m-0">

                            <div class="col-lg-4 col-md-4 col-sm-12 py-1 px-0 border" style="background-color: #e9ecef;">
                                                
                                <% if (searchProfile.length === 0) {  %>
                                    <!--:::::: Crear Profile ::::::-->
                                    <!-- direccion de ruta en index.routes.js -->
                                    <div class="card">
                                        <div class="card-header d-flex justify-content-between">
                                            Crear perfil <div class="cursor-pointer info-icon" data-bs-toggle="modal" data-bs-target="#staticCreatePerfil"> <i class="bi bi-info-circle mx-1"></i> </div>
                                        </div>    
                                        <div class="card-body">
                                            <form action="/myaccount/profile" method="POST" id="formCreatePerfil">
            
                                                <!-- creación de nombres y numero de documento -->
                                                <div class="container d-flex justify-content-between p-0 my-2">
                
                                                    <div class="form-group" style="width: 60%;">
                                                        <input type="text" name="names" placeholder="Nombres" class="form-control" required>
                                                    </div>
                                                    <div class="form-group ms-1" style="width: 39%;">
                                                        <input type="text" name="identification" placeholder="Doc. Identidad" class="form-control" title="Introduzca su número de identificación ejemplo: 10555478" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" maxlength="9" required /> 
                                                    </div>
                
                                                </div>

                                                <!-- creación de fecha y genero -->
                                                <div class="container d-flex p-0 my-2">
                
                                                    <div class="form-group d-flex">
                                                        <input type="date" name="dateborn" class="form-control" required>
                                                    </div>
                                                        
                                                    <div class="form-control d-flex ms-1 py-0 ps-3 pe-2">
                                                        <div class="form-check me-3 d-flex align-items-center m-0">
                                                            <input class="form-check-input" type="radio" name="gender"
                                                                id="flexRadioDefault1" value="men" required>
                                                            <label class="form-check-label ms-3" for="flexRadioDefault1">
                                                                <img src="/img/menPerfil.png" alt="" style="width: 30px;">
                                                            </label>
                                                        </div>
                                                        <div class="form-check d-flex align-items-center m-0">
                                                            <input class="form-check-input" type="radio" name="gender"
                                                                id="flexRadioDefault2" value="wom" required>
                                                            <label class="form-check-label ms-3" for="flexRadioDefault2">
                                                                <img src="/img/womPerfil.png" alt="" style="width: 30px;">
                                                            </label>
                                                        </div>
                                                    </div>
                
                                                </div>

                                                <!-- creación de compañia y rif  -->
                                                <div class="my-2">
                                                    <div style="display: flex; align-items: center;">
                                                        <span class="text-secondary">Opcional</span>
                                                        <hr style="flex-grow: 1; margin-left: 10px;">
                                                    </div>
                                                    <div class="container d-flex justify-content-between p-0">
                    
                                                        <div class="form-group" style="width: 60%;">
                                                            <input type="text" name="company" placeholder="Nombre de Empresa" class="form-control" title="Si posees una empresa puedes colocarla aqui, dará mayor seguridad a tus clientes potenciales" maxlength="30">
                                                        </div>
                                                        <div class="form-group ms-1" style="width: 39%;">
                                                            <input type="text" name="companyRif" placeholder="Rif de la empresa" class="form-control" title="Example: 403084691" maxlength="12">
                                                        </div>
                    
                                                    </div>
                                                    <div style="display: flex; align-items: center;">
                                                        <hr style="flex-grow: 1; margin-left: 10px;">
                                                    </div>
                                                </div>

                                                <!-- creación de estados y ciudades/pueblos -->
                                                <div class="container d-flex justify-content-between p-0 my-2">
                
                                                    <div class="form-group" style="width: 50%;">
                                                        <select name="states" id="estados" class="form-control" required>
                                                            <option value="no_state" selected>Selecciona el Estado</option>
                                                            <option value="Foraneo">Foraneo</option>
                                                            <!-- los option se crean por medio de un script -->
                                                        </select>
                                                    </div>
                                                    <div class="form-group ms-1" style="width: 49%;">
                                                        <select name="cities" id="ciudades" class="form-control" required>
                                                            <option value="no_state" selected>Selecciona tu Ciudad</option>
                                                            <!-- los option se crean por medio de un script -->
                                                        </select>
                                                    </div>
                                                    
                                                </div>

                                                <div class="container d-flex justify-content-between p-0 my-2">

                                                    <div class="form-group" style="width: 50%;">
                                                        <input type="tel" name="phone" placeholder="Un número telefonico" class="form-control" maxlength="14" required>
                                                    </div>

                                                    <div class="form-group" style="width: 49%;">
                                                        <input type="tel" name="phoneAlt" placeholder="Un número telefonico alt." class="form-control" maxlength="14">
                                                    </div>

                                                </div>

                                                <!-- creación de direccion completa -->
                                                <div class="form-group my-2">
                                                    <textarea name="address" rows="1" class="form-control" placeholder="Introduce tu dirección." maxlength="100" required></textarea>
                                                </div>
                                                            
                                                <!-- creación de mensaje de perfil -->
                                                <div class="form-group my-2">
                                                <textarea name="profileMessage" rows="1" class="form-control" placeholder="Introduce un mensaje alusivo a lo que haces o en que te desempeñas para atraer a tus potenciales clientes o usa una frase que te guste, este mensaje estará en tu perfíl a la vista de todos. -Tienes un máximo de 180 carcateres."
                                                    maxlength="180"></textarea>
                                                </div>
                
                                                <!-- creación de redes sociales -->
                                                <hr class="dropdown-divider">
                                                <div class="input-group flex-nowrap">
                                                    <label for="" class="input-group-text anchorRRSS"> <i class="bi bi-facebook"></i> </label>
                                                    <input type="text" name="facebook" class="form-control" placeholder="Here your link"
                                                        aria-describedby="addon-wrapping">
                                                </div>
                                                <div class="input-group flex-nowrap">
                                                    <label for="" class="input-group-text anchorRRSS"> <i class="bi bi-instagram"></i> </label>
                                                    <input type="text" name="instagram" class="form-control"
                                                        placeholder="Here your link" aria-describedby="addon-wrapping">
                                                </div>
                                                <div class="input-group flex-nowrap">
                                                    <label for="" class="input-group-text anchorRRSS"> <i class="bi bi-youtube"></i> </label>
                                                    <input type="text" name="youtube" class="form-control" placeholder="Here your link"
                                                        aria-describedby="addon-wrapping">
                                                </div>
                                                <div class="input-group flex-nowrap">
                                                    <label for="" class="input-group-text anchorRRSS"> <i class="bi bi-tiktok"></i> </label>
                                                    <input type="text" name="tiktok" class="form-control" placeholder="Here your link"
                                                        aria-describedby="addon-wrapping">
                                                </div>
                                                
                                                <div class="form-group my-3">
                                                    <input type="submit" class="form-control btn btn-dark" id="btnCreateProfile" value="Crear Perfil">
                                                    
                                                    <button class="form-control btn btn-dark close" type="button" id="btnCreateLoading" disabled>
                                                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                                        Creando Perfil ...
                                                    </button>
                                                </div>
                
                                            </form>
                                        </div>
                                    </div>        
                                <% } else { %>
                                    <!--:::::: Editar Profile ::::::-->
                                    <% searchProfile.forEach( (ele)=> { %>

                                    <!-- direccion de ruta en index.routes.js -->

                                    <div class="card">

                                        <ul class="nav nav-tabs mt-2">
                                            <li class="nav-item">
                                                <button class="nav-link active" id="btnPersonal"> Personal</button>
                                            </li>
                                            <li class="nav-item">
                                                <button class="nav-link" id="btnBank"> Bancario</button>
                                            </li>
                                        </ul> 

                                        <div class="contentPersonal">
                                            <div class="card-header d-flex justify-content-between">
                                                Editar perfil <div class="cursor-pointer info-icon" data-bs-toggle="modal" data-bs-target="#staticEditPerfil"> <i class="bi bi-info-circle mx-1"></i> </div>
                                            </div>
                                            <div class="card-body">
                                                <form action="/myaccount/edit/<%= ele._id %>" method="POST" id="formEditePerfil">
                                                    
    
                                                    <!-- campos names e identification no podrá ser editado -->
                                                    <div class="container d-flex justify-content-between p-0 my-2">
                    
                                                            <div class="form-group" style="width: 60%;">
                                                                <input type="text" name="names" placeholder="Nombres" class="form-control" value="<%= ele.names %>">
                                                            </div>
                                                            <div class="form-group ms-1" style="width: 39%;">
                                                                <input type="text" name="identification" placeholder="15023658" class="form-control" value="<%= ele.identification %>"> 
                                                            </div>
                    
                                                    </div>
    
                                                    <!-- campos dateborn y gender no podrá ser editado -->
                                                    <div class="container d-flex p-0 my-2">
                                                        <% if (Dateborn) { %>
                                                            <div class="form-group d-flex">
                                                                <input type="text" class="form-control" value="<%= Dateborn %>" disabled>
                                                            </div>
                                                        <% } %>
    
                                                            <div class="form-control d-flex ms-1 py-0 ps-3 pe-2" style="background-color: #e9ecef;">
                                                                <div class="form-check me-3 d-flex align-items-center m-0">
                                                                    <% if (ele.gender === 'men'){ %>
                                                                    <input class="form-check-input" type="radio" name="gender" id="flexRadioDefault1" value="men" disabled checked>
                                                                    <% } else { %>    
                                                                    <input class="form-check-input" type="radio" name="gender" id="flexRadioDefault1" value="men" disabled>
                                                                    <% }; %>    
                                                                    <label class="form-check-label ms-3" for="flexRadioDefault1">
                                                                        <img src="/img/menPerfil.png" alt="" style="width: 30px;">
                                                                    </label>
                                                                </div>
                                                                <div class="form-check d-flex align-items-center m-0" >
                                                                    <% if (ele.gender === 'wom'){ %>
                                                                    <input class="form-check-input" type="radio" name="gender" id="flexRadioDefault2" value="wom" disabled checked>
                                                                    <% } else { %>
                                                                    <input class="form-check-input" type="radio" name="gender" id="flexRadioDefault2" value="wom" disabled>
                                                                    <% }; %>     
                                                                    <label class="form-check-label ms-3" for="flexRadioDefault2">
                                                                        <img src="/img/womPerfil.png" alt="" style="width: 30px;">
                                                                    </label>
                                                                </div>
                                                            </div>
    
                                                    </div>    
                                                            
                                                    <!-- campos company y companyRif -->
                                                    <div class="my-2">
                                                        <div style="display: flex; align-items: center;">
                                                            <span class="text-secondary">Opcional</span>
                                                            <hr style="flex-grow: 1; margin-left: 10px;">
                                                        </div>    
                                                        <div class="container d-flex justify-content-between p-0">
                                                            
                                                                    <div class="form-group" style="width: 60%;">
                                                                        <input type="text" name="company" value="<%= ele.company %>" placeholder="Nombre de Empresa" class="form-control"  maxlength="30">
                                                                    </div>
                                                                    <div class="form-group ms-1" style="width: 39%;">
                                                                        <input type="text" name="companyRif" value="<%= ele.companyRif %>" placeholder="Rif de la empresa" class="form-control" title="Example: 403084691" maxlength="12">
                                                                    </div>
                                
                                                        </div>
                                                        <div style="display: flex; align-items: center;">
                                                            <hr style="flex-grow: 1; margin-left: 10px;">
                                                        </div>
                                                    </div>
                                                    
                                                    <!-- edit de estados y ciudades/pueblos -->
                                                    <div class="container d-flex justify-content-between p-0 my-2">
                    
                                                            <div class="form-group" style="width: 50%;">
                                                                <select name="states" id="estadosEdit" class="form-control" required>
                                                                    <option value="<%= ele.states %>" selected><%= ele.states %></option>
                                                                    <option value="Foraneo">Foraneo</option>
                                                                    
                                                                </select>
                                                            </div>
                                                        
                                                            <div class="form-group" style="width: 49%;">
                                                                <select name="cities" id="ciudadesEdit" class="form-control" required>
                                                                    <option value="<%= ele.cities %>" selected><%= ele.cities %></option>
                                                                    <!-- los option se crean por medio de un script -->
                                                                </select>
                                                            </div>
                                                    </div>
    
                                                    <!-- edit phone and phoneAlt -->
                                                    <div class="container d-flex justify-content-between p-0 my-2">
    
                                                            <div class="form-group" style="width: 50%;">
                                                                <input type="tel" name="phone" placeholder="intro your phone" class="form-control" value="<%= ele.phone %>" maxlength="14" required>
                                                            </div>
                                                            <div class="form-group" style="width: 49%;">
                                                                <input type="tel" name="phoneAlt" placeholder="intro your phone alter" class="form-control" value="<%= ele.phoneAlt %>" maxlength="14">
                                                            </div>
    
                                                    </div>    
    
                                                    <!-- direccion completa -->
                                                    <div class="form-group my-2">
                                                        <textarea name="address" rows="1" class="form-control" placeholder="Introduce tu dirección."
                                                        maxlength="100"><%= ele.address %></textarea>
                                                    </div>
    
                                                    <!-- mensaje de perfil --> 
                                                    <div class="form-group my-2">
                                                            <textarea name="profileMessage" rows="1" class="form-control" placeholder="Introduce un mensaje alusivo a lo que haces o en que te desempeñas para atraer a tus potenciales clientes o usa una frase que te guste, este mensaje estará en tu perfíl a la vista de todos. -Tienes un máximo de 180 caracteres."
                                                            maxlength="180"><%= ele.profileMessage %></textarea>
                                                    </div>
    
                                                    <!-- campos redes sociales -->
                                                    <hr class="dropdown-divider">
                                                    <div class="input-group flex-nowrap">
                                                            <label for="" class="input-group-text anchorRRSS"> <i class="bi bi-facebook"></i> </label>
                                                            <input type="text" name="facebook" class="form-control" placeholder="Here your link"
                                                                value="<%= ele.facebook %>">
                                                    </div>
                                                    <div class="input-group flex-nowrap">
                                                            <label for="" class="input-group-text anchorRRSS"> <i class="bi bi-instagram"></i> </label>
                                                            <input type="text" name="instagram" class="form-control"
                                                                placeholder="Here your link" value="<%= ele.instagram %>">
                                                    </div>
                                                    <div class="input-group flex-nowrap">
                                                            <label for="" class="input-group-text anchorRRSS"> <i class="bi bi-youtube"></i> </label>
                                                            <input type="text" name="youtube" class="form-control" placeholder="Here your link"
                                                            value="<%= ele.youtube %>">
                                                    </div>
                                                    <div class="input-group flex-nowrap">
                                                            <label for="" class="input-group-text anchorRRSS"> <i class="bi bi-tiktok"></i> </label>
                                                            <input type="text" name="tiktok" class="form-control" placeholder="Here your link"
                                                            value="<%= ele.tiktok %>">
                                                    </div>
                        
                        
                                                    <div class="form-group my-3">
                                                        <input type="submit" class="form-control btn btn-secondary" id="btnEditProfile" value="Editar Perfil"> 
                                                            <!-- <a href="/myaccount/edit/:<%= ele._id %>">update</a> -->
                                                        
                                                        <button class="form-control btn btn-secondary close" type="button" id="btnEditingLoading" disabled>
                                                            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                                            Editando Perfil ...
                                                        </button>        
                                                    </div> 
                        
                                                </form>
                                            </div>
                                        </div>

                                        <div class="contentBank close">
                                            <div class="card-header d-flex justify-content-between">
                                                Editar Datos Bancarios <div class="cursor-pointer info-icon" data-bs-toggle="modal" data-bs-target="#staticEditDataBank"> <i class="bi bi-info-circle mx-1"></i> </div>
                                            </div>
                                            <div class="card-body">
                                                
                                                         
                                                    <input type="hidden" id="idProfile" value="<%= ele._id %>">        
                                                    <!-- Pago movil -->
                                                    <div class="my-2">
                                                        <div style="display: flex; align-items: center;">
                                                            <span class="text-secondary">Pago Movil</span>
                                                            <hr style="flex-grow: 1; margin-left: 10px;">
                                                        </div>
                                                        
                                                        <div class="container d-flex justify-content-between p-0 my-2">
                                                            
                                                            <div class="form-group" style="width: 80%;">
                                                                <select id="selectBankPagoMovil" class="form-control">
                                                                    <!-- option dinamicos -->                                              
                                                                </select>
                                                            </div>
                                                            <div class="form-group ms-1" style="width: 19%;">
                                                                <input type="text"  class="form-control" id="codBankPagoMovil" readonly>
                                                            </div>
                                
                                                        </div>
                                                        

                                                        <div class="container d-flex justify-content-between p-0 my-2">
                                                            

                                                                <div class="form-group" style="width: 50%;">
                                                                    <input type="text"  class="form-control" id="docPagoMovil_Id" placeholder="15371263" maxlength="30">
                                                                </div>
                                                                <div class="form-group ms-1" style="width: 49%;">
                                                                    <input type="text"  class="form-control" id="telePagoMovil_Id" placeholder="0412081945" maxlength="12">
                                                                </div>
                                
                                                        </div>
                                                    </div>

                                                    <!-- Transferencia Bancaria -->
                                                    <div class="my-2">
                                                        <div style="display: flex; align-items: center;">
                                                            <span class="text-secondary">Tranferencia Bancaria</span>
                                                            <hr style="flex-grow: 1; margin-left: 10px;">
                                                        </div>

                                                        <div class="container d-flex justify-content-between p-0 my-2">
                                                            
                                                            <div class="form-group" style="width: 80%;">
                                                                <select  id="selectBankTransf" class="form-control">
                                                                    
                                                                        <!-- option dinamicos -->                                              
                                                                </select>
                                                            </div>
                                                            <div class="form-group ms-1" style="width: 19%;">
                                                                <input type="text" id="codBankTrans" class="form-control"  readonly>
                                                            </div>
                                
                                                        </div>

                                                        <div class="container  p-0 my-2">
                                                            
                                                            <div class="form-group">
                                                                <input type="text" id="accountNumberTransf_Id"  placeholder="Numero de cuenta" class="form-control"  maxlength="30">
                                                            </div>
                                
                                                        </div>
                                                        
                                                        <div class="container d-flex justify-content-between p-0 my-2">
                                                            
                                                            <div class="form-group" style="width: 60%;">
                                                                <input type="text" id="toNameTransf_Id" placeholder="A nombre" class="form-control"  maxlength="30">
                                                            </div>
                                                            <div class="form-group ms-1" style="width: 39%;">
                                                                <input type="text" id="docTransf_Id" placeholder="Doc. o Rif" class="form-control"  maxlength="13">
                                                            </div>
                                
                                                        </div>
                                                        <div style="display: flex; align-items: center;">
                                                            <hr style="flex-grow: 1; margin-left: 10px;">
                                                        </div>
                                                    </div>
                       
                                                    <div class="form-group">
                                                        <div class="alert alert-success close" id="alertCreatedBank">
                                                            <i class="bi bi-check-circle-fill me-2"></i>  Datos Bancarios creados.
                                                        </div>
                                                        <div class="alert alert-primary close" id="alertEditedBank">
                                                            <i class="bi bi-check-circle-fill me-2"></i> Datos Bancarios editados. 
                                                        </div>
                                                        
                                                        <div class="alert alert-danger close" id="alertDeletedBank">
                                                            <i class="bi bi-check-circle-fill me-2"></i> Datos Bancarios eliminados. 
                                                        </div>
                                                    </div>
                        
                                                    <div class="form-group my-3">
                                                        <input type="submit" class="form-control btn btn-secondary" id="btnEditBank" value="Editar Datos Bancarios"> 
                                                            <!-- <a href="/myaccount/edit/:<%= ele._id %>">update</a> -->
                                                            
                                                        <button class="form-control btn btn-secondary close" type="button" id="btnEditingBankLoading" disabled>
                                                            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                                             Editando Perfil Bancario...
                                                        </button>        
                                                    </div> 
                        
                                               
                                            </div>
                                        </div>

                                    </div>                                             
                                    <% }) %>
                                <% }; %>
            
                                
                                
                                <% const username = user.username %>
                                <% const indexed = user._id %> <!-- esto es igual al id user -->
                                <% let userTelegram = user.blissBot.userTelegram %> <!-- esto es igual al id user -->
                                <% let chatId = user.blissBot.chatId %> <!-- esto es igual al id user -->

                                <!-- seccion BlissBot -->
                                <div class="card my-2">
                                    <div class="card-header d-flex justify-content-between">                                
                                        Conectar con BlissBot de Telegram  <div class="cursor-pointer info-icon" data-bs-toggle="modal" data-bs-target="#staticChangeUsername"> <i class="bi bi-info-circle mx-1"></i> </div>
                                    </div>
                                    
                                    <div class="card-body">
                                    
                                        <% if (userTelegram === "" && chatId === "" ) { %>
                                            <div class="input-group my-1">
                                                <span class="input-group-text"> @ </span>
                                                <input type="text" class="form-control" id="inpUserTelegram" placeholder="Usuario en Telegram" maxlength="40">
                                            </div>

                                            <div class="containerConnect" style="position: relative">
                                                 <img src="/img/BlissBotBanner1.png" alt="" class="border border-secondary rounded-2" style="width: 100%; height: 110px; object-fit: cover;">
                                             </div>

                                             
                                            <div class="containerAlert my-2 p-0" id="alertBlissBot">
                                                <!-- alertas dinamicos -->
                                                 <div class="alert alert-primary m-0 close" id="alertBlissBotCode3">
                                                    <span> <i class="bi bi-check2-circle me-2"></i> Ya posee este username en su registro. </span>
                                                 </div>
                                                 <div class="alert alert-danger m-0 close" id="alertBlissBotCode2">
                                                    <span> <i class="bi bi-exclamation-circle me-2"></i>  Este usuario de Telegram ya esta registrado. </span>
                                                 </div>
                                                 <div class="alert alert-primary m-0 close" id="alertBlissBotCode1">
                                                    <span> <i class="bi bi-check2-circle me-2"></i>  Agregado satisfactoriamente. </span>
                                                 </div>
                                                 <div class="alert alert-danger m-0 close" id="alertBlissBotCode0">
                                                    <span> <i class="bi bi-exclamation-circle me-2"></i>  Este usuario ya existe. </span>
                                                 </div>
                                            </div>

                                            <div class="form-group my-3">
                                                <input type="button" value="Actualizar" class="btn btn-primary form-control" id="btnSendUserTelegram">
                                                <button class="form-control btn btn-primary close" type="button" id="btnSendUserTelegramLoading" disabled>
                                                    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                                    Actualizando ...
                                                </button> 
                                            </div>


                                        <% } else if (userTelegram !== "" && chatId === "") { %>
                                        <!-- Código a ejecutar si userTelegram tiene un string y chatId está vacío -->
                                            
                                            <!-- mañana debes trabajar en que cada usuario debe ser unico, se debe validar este dato -->
                                            <div class="input-group my-1">
                                                <span class="input-group-text"> @ </span>
                                                <input type="text" class="form-control" id="inpUserTelegram" value="<%= userTelegram %>" maxlength="40" disabled>
                                                <button class="btn btn-outline-secondary" type="button" id="unlockUserTelegram"> Editar </button>
                                            </div>       
                                            
                                            <div class="containerConnect" style="position: relative">
                                                <!--  <img src="/img/telegramFly1.gif" alt="" class="border border-primary rounded-2" style="width: 100%; height: 100px;"> -->
                                                 <img src="/img/BlissBotBanner1.png" alt="" class="border border-secondary rounded-2" style="width: 100%; height: 110px; object-fit: cover;">
                                             </div>

                                             
                                            <div class="containerAlert my-2 p-0" id="alertBlissBot">
                                                <!-- alertas dinamicos -->
                                                 <div class="alert alert-primary m-0 close" id="alertBlissBotCode3">
                                                    <span> <i class="bi bi-check2-circle me-2"></i> Ya posee este username en su registro. </span>
                                                 </div>
                                                 <div class="alert alert-danger m-0 close" id="alertBlissBotCode2">
                                                    <span> <i class="bi bi-exclamation-circle me-2"></i>  Este usuario de Telegram ya esta registrado. </span>
                                                 </div>
                                                 <div class="alert alert-primary m-0 close" id="alertBlissBotCode1">
                                                    <span> <i class="bi bi-check2-circle me-2"></i>  Agregado satisfactoriamente. </span>
                                                 </div>
                                                 <div class="alert alert-danger m-0 close" id="alertBlissBotCode0">
                                                    <span> <i class="bi bi-exclamation-circle me-2"></i>  Este usuario ya existe. </span>
                                                 </div>
                                            </div>

                                            <div class="form-group my-3">
                                                <input type="button" value="Actualizar" class="btn btn-dark form-control" id="btnSendUserTelegram">
                                            
                                                <button class="form-control btn btn-dark close" type="button" id="btnSendUserTelegramLoading" disabled>
                                                    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                                    Actualizando ...
                                                </button> 
                                            </div>


                                        <% } else if (userTelegram !== "" && chatId !== "") { %>
                                            <!-- Código a ejecutar si userTelegram y chatId tienen un string osea ya esta sincronizado con el chatBot BlissBot   -->
                                                
                                                <!-- mañana debes trabajar en que cada usuario debe ser unico, se debe validar este dato -->
                                                <div class="input-group my-1">
                                                    <span class="input-group-text"> @ </span>
                                                    <input type="text" class="form-control" id="inpUserTelegram" value="<%= userTelegram %>" maxlength="40" disabled>
                                                    <button class="btn btn-outline-secondary" type="button" id="unlockUserTelegram"> Editar </button>
                                                </div>       
                                                
                                                <div class="containerConnect" style="position: relative">
                                                    <!--  <img src="/img/telegramFly1.gif" alt="" class="border border-primary rounded-2" style="width: 100%; height: 100px;"> -->
                                                        <img src="/img/BlissBotBanner1.png" alt="" class="border border-secondary rounded-2" style="width: 100%; height: 110px; object-fit: cover;">
                                                        <i class="bi bi-check2-circle me-2"  style="position: absolute; top: 30px; right: 30px; color:#ffffff; font-size: 28px;"></i>
                                                        <!-- <img src="/img/BlissBot1x1.png" alt="logoBlissBot" class="box-shadow border border-secondary" style="width: 50px; height: 50px; border-radius: 50%; position: absolute; top: 25px; right: 25px"> -->
                                                </div>
    
                                                    
                                                <div class="containerAlert my-2 p-0" id="alertBlissBot">
                                                    <!-- alertas dinamicos -->
                                                        <div class="alert alert-primary m-0 close" id="alertBlissBotCode3">
                                                        <span> <i class="bi bi-check2-circle me-2"></i> Ya posee este username en su registro. </span>
                                                        </div>
                                                        <div class="alert alert-danger m-0 close" id="alertBlissBotCode2">
                                                        <span> <i class="bi bi-exclamation-circle me-2"></i>  Este usuario de Telegram ya esta registrado. </span>
                                                        </div>
                                                        <div class="alert alert-primary m-0 close" id="alertBlissBotCode1">
                                                        <span> <i class="bi bi-check2-circle me-2"></i>  Agregado satisfactoriamente. </span>
                                                        </div>
                                                        <div class="alert alert-danger m-0 close" id="alertBlissBotCode0">
                                                        <span> <i class="bi bi-exclamation-circle me-2"></i>  Este usuario ya existe. </span>
                                                        </div>
                                                </div>
    
                                                <div class="form-group my-3">
                                                    <input type="button" value="Actualizar" class="btn btn-dark form-control" id="btnSendUserTelegram">
                                                
                                                    <button class="form-control btn btn-dark close" type="button" id="btnSendUserTelegramLoading" disabled>
                                                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                                        Actualizando ...
                                                    </button> 
                                                </div>
    
    
                                        <% }; %> 

                                        
                                    </div>
                                </div>
                                
                                <!-- seccion nombre de tienda -->
                                <div class="card my-2">
                                        <div class="card-header d-flex justify-content-between">                                
                                            Cambiar Nombre de Cuenta  <div class="cursor-pointer info-icon" data-bs-toggle="modal" data-bs-target="#staticChangeUsername"> <i class="bi bi-info-circle mx-1"></i> </div>
                                        </div>
                                        <div class="card-body">
                                        <!--  fetch post linea 940 -->
                                                <div class="input-group my-1">
                                                    <span class="input-group-text" id="statusName"> <i class="bi bi-lock"></i> </span>
                                                    <input type="text" class="form-control" id="username" value="<%= username %>" readonly>
                                                    <input type="hidden"  id="indexed" value="<%= indexed %>">
                                                    <button class="btn btn-outline-secondary" type="button" id="unlockUsername"> Editar </button>
                                                </div>
                                                <div class="input-group my-1">
                                                    <span class="input-group-text"> <i class="bi bi-person"></i> </span>
                                                    <input type="text" class="form-control" id="newName" placeholder="Nuevo nombre" maxlength="20" disabled>
                                                </div>
                                                <div class="input-group my-1">
                                                    <span class="input-group-text"> <i class="bi bi-key"></i> </span>
                                                    <input type="text" class="form-control" id="passwordKey" placeholder="Contraseña" maxlength="20" disabled>
                                                </div>

                                                <div class="alert my-2 border p-0" id="alertEditName">
                                                    <!-- alertas dinamicos -->
                                                </div>
                                                        
                                                <div class="form-group my-3">
                                                    <input type="button" value="Actualizar" class="btn btn-dark form-control" id="btnChangeUsername" disabled>
                                                </div> 
                                            <!-- fetch post  -->
                                        </div>
                                </div>
                                
                                <!-- fin nombre de tienda -->

                                <% if (searchProfile.length !== 0) {  %>
                                <!-- seccion de Palabras Clave -->
                                <div class="card my-2">
                                    <div class="card-header d-flex justify-content-between">
                                        Palabras Clave <div class="cursor-pointer info-icon" data-bs-toggle="modal" data-bs-target="#staticWordClave"> <i class="bi bi-info-circle mx-1"></i> </div>
                                    </div>
                                    <div class="card-body">
                                    <!--  fetch post linea 940 -->
                                            <div class="input-group my-1">
                                                <span class="input-group-text" id="basic-addon1">#</span>
                                                <input type="text" class="form-control" id="hashtags" placeholder="monopatin electrico" aria-label="Username" aria-describedby="basic-addon1">
                                                <button class="btn btn-outline-secondary" type="button" id="btnHashtag">Añadir </button>
                                            </div>
                                            <div class="input-group my-1 border rounded-2" id="hashtagsStore">
                                                
                                                <!-- este elemento se creara de forma dinamica por medio de un script -->
                                                <!-- <span class="alert-secondary m-1 py-1 ps-1 pe-4 rounded-3" style="position: relative;">monopatin <i class="bi bi-x" style="position: absolute; right: 5px; top: 6px;"></i></span> -->
                                            
                                            </div>
                                            
                                                <% if (msgHashtagExito){ %>
                                                    <div class="form-group my-1">
                                                    
                                                            <div class="alert alert-success alert-dismissible fade show" role="alert">
                                                                <strong><i class="bi bi-check-circle-fill me-2"></i> <%= msgHashtagExito %></strong> 
                                                                <button type="button" class="btn-close invisible" data-bs-dismiss="alert" aria-label="Close"></button>
                                                            </div>
                                                    
                                                    </div>    
                                                <% }; %>

                                                <% if (msgHashtagDenegado){ %>
                                                    <div class="form-group my-1">
                                                    
                                                            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                                                                <strong><i class="bi bi-exclamation-triangle-fill me-2"></i> <%= msgHashtagDenegado %></strong> 
                                                                <button type="button" class="btn-close invisible" data-bs-dismiss="alert" aria-label="Close"></button>
                                                            </div>
                                                    
                                                    </div>      
                                                <% }; %> 

                                                <% if (msgHashtagDelete){ %>
                                                    <div class="form-group my-1">
                                                    
                                                            <div class="alert alert-info alert-dismissible fade show" role="alert">
                                                                <strong><i class="bi bi-check-circle-fill me-2"></i> <%= msgHashtagDelete %></strong> 
                                                                <button type="button" class="btn-close invisible" data-bs-dismiss="alert" aria-label="Close"></button>
                                                            </div>
                                                    
                                                    </div>      
                                                <% }; %>
                                                
                                                <% if (msgHashtagError) { %>
                                                    <div class="form-group my-1">
                                                    
                                                        <div class="alert alert-danger alert-dismissible fade show" role="alert">
                                                            <strong><i class="bi bi-exclamation-triangle-fill me-2"></i> <%= msgHashtagError %></strong> 
                                                            <button type="button" class="btn-close invisible" data-bs-dismiss="alert" aria-label="Close"></button>
                                                        </div>
                                                
                                                    </div>                           
                                                <% }; %>
                                                <div class="contentAlert">
                                                    <!-- aqui va un laerta cuando se supere la cantidad de palabras permitidas -->
                                                </div>
                                                    
                                            <div class="form-group my-2">
                                                <input type="button" value="Actualizar" class="btn btn-dark form-control" id="btnSubmitHashtag" disabled>
                                            </div>
                                        <!-- fetch post  -->
                                    </div>
                                </div>
                                <!-- fin Palabras Clave -->
                                <% }; %>

                                <!-- cambio de contraseña -->
                                <% if (token) { %>
                                    <div class="card my-2">
                                        <div class="card-header d-flex justify-content-between">
                                            Cambiar Contraseña <div class="cursor-pointer info-icon" data-bs-toggle="modal" data-bs-target="#staticChangePassw"> <i class="bi bi-info-circle mx-1"></i> </div>
                                        </div>
                                        <div class="card-body">
                                            <form action="/myaccount/change-password" method="POST">
                                                <div class="input-group my-2">
                                                <label for="" class="input-group-text">Token :</label>
                                                <input type="text" class="form-control" name="token" style="letter-spacing: 10px; font-weight: bold; font-size: 18px;" maxlength="6" required>
                                                </div>
                                                <div class="form-group  ps-1">
                                                    <label for=""> <small>Token de seguridad lo encontraras en tu correo.</small></label>
                                                </div>
                                                <div class="input-group my-2">
                                                    <label for="" class="input-group-text">Nueva Contraseña :</label>
                                                    <input type="text" class="form-control" name="newPassword" maxlength="20" style="letter-spacing: 3px;" required>
                                                </div>
                                                <div class="form-group  ps-1">
                                                    <label for=""> <small> Contraseña debe tener mínimo 6 caracteres. </small></label>
                                                </div>
                                                <div class="form-group my-3">
                                                    <button type="submit" class="btn btn-dark form-control">Cambiar Contraseña</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                <% } else { %>
                                    <div class="card my-2">
                                        <div class="card-header d-flex justify-content-between">
                                            Cambiar Contraseña <div class="cursor-pointer info-icon" data-bs-toggle="modal" data-bs-target="#staticChangePassw"> <i class="bi bi-info-circle mx-1"></i> </div>
                                        </div>
                                        <div class="card-body">
                                            <form action="/myaccount/new-password" method="POST">
                                            
                                                <div class="form-group border my-2">
                                                    <label for="">Para cambiar su Contraseña se requiere enviar un Token de seguridad a su email. Recomendamos tener su correo abierto antes de dar al botón "Enviar token". </label>
                                                </div>
                                                <div class="form-group my-3">
                                                    <button type="submit" class="btn btn-dark form-control">Enviar Token</button>
                                                </div>

                                            </form>
                                        </div>
                                    </div>
                                <% }; %>
                            </div>

                            <!-- aqui estaran todos los modales informativos --> <!-- bannerPerfil.png -->

                            <!-- Modal crear perfil --> <!--lo activa > data-bs-toggle="modal" data-bs-target="#staticCreatePerfil" -->
                            <div class="modal fade" id="staticCreatePerfil" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabelP" aria-hidden="true">
                                <div class="modal-dialog border border-secondary p-2 rounded-3" style="background-color: rgb(0, 0, 0, 0.3);">
                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <h5 class="modal-title" id="staticBackdropLabelP">Crear Perfil</h5>
                                            <i class="bi bi-x-lg cursor-pointer" data-bs-dismiss="modal"></i>
                                        </div>
                                        <div class="modal-body">
                                            <p> Crear un perfil en Blissenet.com te permite destacarte en nuestra plataforma comercial. Con tu tienda virtual, podrás personalizar y configurar tu espacio para exhibir tus anuncios de manera atractiva. Ten en cuenta que solo las cuentas con perfil pueden crear anuncios. Los datos de la empresa, RIF y Redes Sociales son opcionales.</p>
                                            
                                            <p> Además, podrás editar tu perfil en cualquier momento, excepto por tu fecha de nacimiento y género. </p>
                                            
                                            <div style="display: flex; align-items: center;">
                                                <span class="text-primary fw-bold">Aviso Importante</span>
                                                <hr style="flex-grow: 1; margin-left: 10px;">
                                            </div>

                                            <p>Esta información es de carácter administrativo y no será visible para la comunidad. Se utilizará exclusivamente para generar tus facturas y recibos relacionados con la creación de anuncios y/o ventas. Agradecemos tu comprensión.</p>   
                                        </div>
                                        <div class="modal-footer" style="background-image: url('/img/bannerPerfil.png'); background-size: cover; background-position: center;">
                                            <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Cerrar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            

                            <!-- Modal edit perfil --> <!--lo activa > data-bs-toggle="modal" data-bs-target="#staticEditPerfil" -->
                            <div class="modal fade" id="staticEditPerfil" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabelR" aria-hidden="true">
                                <div class="modal-dialog border border-secondary p-2 rounded-3" style="background-color: rgb(0, 0, 0, 0.3);">
                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <h5 class="modal-title" id="staticBackdropLabelR">Editar Perfil</h5>
                                            <i class="bi bi-x-lg cursor-pointer" data-bs-dismiss="modal"></i>
                                        </div>
                                        <div class="modal-body">
                                            <p> Has creado tu perfil en Blissenet.com Felicidades. Te recordamos que estos datos no serán visibles por la comunidad, tu información esta a buen resguardo. </p>
                                            
                                            <p> Además, podrás editar tu perfil en cualquier momento, excepto por tu fecha de nacimiento y género. </p>
                                            
                                            <div style="display: flex; align-items: center;">
                                                <span class="text-primary fw-bold">Aviso Importante</span>
                                                <hr style="flex-grow: 1; margin-left: 10px;">
                                            </div>

                                            <p>Esta información es de carácter administrativo y no será visible para la comunidad. Se utilizará exclusivamente para generar tus facturas y recibos relacionados con la creación de anuncios y/o ventas. Agradecemos tu comprensión.</p>   
                                        </div>
                                        <div class="modal-footer" style="background-image: url('/img/bannerPerfil.png'); background-size: cover; background-position: center;">
                                            <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Cerrar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            
                            <!-- Modal banco --> <!--lo activa > data-bs-toggle="modal" data-bs-target="#staticEditDataBank" -->
                            <div class="modal fade" id="staticEditDataBank" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabelR" aria-hidden="true">
                                <div class="modal-dialog border border-secondary p-2 rounded-3" style="background-color: rgb(0, 0, 0, 0.3);">
                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <h5 class="modal-title" id="staticBackdropLabelR">Editar Datos Bancarios</h5>
                                            <i class="bi bi-x-lg cursor-pointer" data-bs-dismiss="modal"></i>
                                        </div>
                                        <div class="modal-body">
                                            <p>¡Felicidades! Tu perfil se ha creado exitosamente. Ahora es momento de registrar tus datos bancarios. </p>
                                            
                                            <p> ¿Para que es requerido esto?</p>
                                            <ul>
                                                <li>Tus clientes requieren esta información para hacerte pagos.</li>
                                                <li>Si haces de Gestor de Ventas (Marketer) es necesario para que te hagan los pagos requerido.</li>
                                            </ul>
                                            
                                            <div style="display: flex; align-items: center;">
                                                <span class="text-primary fw-bold">Aviso Importante</span>
                                                <hr style="flex-grow: 1; margin-left: 10px;">
                                            </div>

                                            <p>Esta información es de carácter administrativo y solo será visible en la vista de negociacion o de Gestor de ventas (Marketer).</p>   
                                        </div>
                                        <div class="modal-footer" style="background-image: url('/img/bannerPerfil.png'); background-size: cover; background-position: center;">
                                            <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Cerrar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>                           
                            

                            <!-- Modal de Cambio de nombre de tienda --> <!--lo activa > data-bs-toggle="modal" data-bs-target="#staticChangeUsername" -->
                            <div class="modal fade" id="staticChangeUsername" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabelX" aria-hidden="true">
                                <div class="modal-dialog border border-secondary p-2 rounded-3" style="background-color: rgb(0, 0, 0, 0.3);">
                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <h5 class="modal-title" id="staticBackdropLabelX">Cambiar nombre de Cuenta</h5>
                                            <i class="bi bi-x-lg cursor-pointer" data-bs-dismiss="modal"></i>
                                        </div>
                                        <div class="modal-body">
                                            <p> Por temas de seguridad solo podrás editar el nombre de tu Cuenta o Tienda mientras cumplas con estos requisitos.</p>
                                            <ul>
                                                <li>No haber tenido negociación ni compra alguna. </li>
                                                <li>No poseer anuncios.</li>
                                            </ul>
                                            <p>Utiliza el botón <span class="px-2 py-0 rounded-2 border border-secondary me-1"> Editar </span> para saber si tu cuenta admite esta edición. Introduce el nuevo nombre que quieres y finalmente da clic a <span class="fw-bold text-primary">Actualizar</span>. El sistema actualizará su nuevo nombre de Cuenta/Tienda y en 3 segundos será deslogeado. Vuelva a entrar y todos los cambios estarán listos.  </p>
                                        </div>
                                        <div class="modal-footer" style="background-image: url('/img/bannerPerfil.png'); background-size: cover; background-position: center;">
                                            <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Cerrar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Modal de Palabras clave --> <!--lo activa > data-bs-toggle="modal" data-bs-target="#staticWordClave" -->
                            <div class="modal fade" id="staticWordClave" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabelY" aria-hidden="true">
                                <div class="modal-dialog border border-secondary p-2 rounded-3" style="background-color: rgb(0, 0, 0, 0.3);">
                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <h5 class="modal-title" id="staticBackdropLabelY">Palabras Clave</h5>
                                            <i class="bi bi-x-lg cursor-pointer" data-bs-dismiss="modal"></i>
                                        </div>
                                        <div class="modal-body">
                                            <p> <span class="fw-bold"> ¡Añade hasta 9 palabras clave! </span> Así, tu tienda aparecerá cuando los usuarios busquen con esos términos en <span class="fw-bold">Tiendas</span>. ¡Haz que te encuentren fácilmente!</p>

                                            <p> Agrega la palabra clave <span class="fw-bold">sin usar el #</span> y luego utiliza el botón <span class="px-2 py-0 rounded-2 border border-secondary me-1"> Añadir </span> repite esta acción hasta tener todas las palabras que deseas y finalmente da clic en <span class="fw-bold text-primary">Actualizar</span>. </p>
                                        </div>
                                        <div class="modal-footer" style="background-image: url('/img/bannerPerfil.png'); background-size: cover; background-position: center;">
                                            <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Cerrar</button>
                                        </div>
                                    </div>
                                </div>
                            </div> 

                            <!-- Modal de cambiar contraseña --> <!--lo activa > data-bs-toggle="modal" data-bs-target="#staticChangePassw" -->
                            <div class="modal fade" id="staticChangePassw" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabelZ" aria-hidden="true">
                                <div class="modal-dialog border border-secondary p-2 rounded-3" style="background-color: rgb(0, 0, 0, 0.3);">
                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <h5 class="modal-title" id="staticBackdropLabelZ">Cambiar Contraseña</h5>
                                            <i class="bi bi-x-lg cursor-pointer" data-bs-dismiss="modal"></i>
                                        </div>
                                        <div class="modal-body">
                                            <p>Cambiar contraseña de al botón <span class="fw-bold text-primary">Enviar Token </span> vaya a su correo y recupere el token (Número de 6 digitos) vuelva a la misma sección y coloque el número copiado, debajo la Nueva Contraseña y por ultimo clic en <span class="fw-bold text-primary">Cambiar Contraseña</span>. </p>
                                        </div>
                                        <div class="modal-footer" style="background-image: url('/img/bannerPerfil.png'); background-size: cover; background-position: center;">
                                            <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Cerrar</button>
                                        </div>
                                    </div>
                                </div>
                            </div> 

                            <!-- Modal zonaBliss --> <!--lo activa > data-bs-toggle="modal" data-bs-target="#staticZonaBliss" -->
                            <div class="modal fade" id="staticZonaBliss" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticZonaBliss" aria-hidden="true">
                                <div class="modal-dialog border border-secondary p-2 rounded-3" style="background-color: rgb(0, 0, 0, 0.3);">
                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <h5 class="modal-title" id="staticBackdropLabelZ">ZonaBliss</h5>
                                            <i class="bi bi-x-lg cursor-pointer" data-bs-dismiss="modal"></i>
                                        </div>
                                        <div class="modal-body">
                                            <p class="mb-1"> <b>¡Bienvenido a la ZonaBliss! </b> </p>
                                            <p>
                                                Una herramientas innovadora para crear carruseles de banners atractivos, insertar videos cautivadores y subir fotos impresionantes, todo desde un espacio fácil de administrar.     
                                                Haz que tu tienda brille y atraiga a más usuarios con estilo y creatividad. ¡Descubre el poder de la personalización y eleva tu negocio al siguiente nivel con ZonaBliss! 
                                            </p>
                                            <p> Requerimentos : <span class="alert-success py-1 px-2 rounded-2"> <b>1 Anuncio</b>  </span> </p>
                                        </div>
                                        <div class="modal-footer" style="background-image: url('/img/bannerZonaBliss2.png'); background-size: cover; background-position: center;">
                                            <button type="button" class="btn btn-success" data-bs-dismiss="modal">Cerrar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>                             

                            <!-- Modal Buscador en Tienda --> <!--lo activa > data-bs-toggle="modal" data-bs-target="#staticSuicheSegment" -->
                            <div class="modal fade" id="staticCheckSearch" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabelH2" aria-hidden="true">
                                <div class="modal-dialog border border-secondary p-2 rounded-3" style="background-color: rgb(0, 0, 0, 0.3);">
                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <h5 class="modal-title" id="staticBackdropLabelH2">Buscador en tu Tienda</h5>
                                            <i class="bi bi-x-lg cursor-pointer" data-bs-dismiss="modal"></i>
                                        </div>
                                        <div class="modal-body">
                                            <p><span class="fw-bold text-primary">Agrega un buscador a tu Tienda </span>
                                                "¡Presentamos nuestro nuevo buscador! Provee a tus clientes de esta poderosa herramienta de busqueda para que puedan conseguir
                                                 rapidamente lo que buscan."
                                            </p>
                                            <p> Requerimentos : <span class="alert-info py-1 px-2 rounded-2"> <b>11 Anuncios</b>  </span> </p>
                                        </div>
                                        <div class="modal-footer" style="background-image: url('/img/bannerPerfil.png'); background-size: cover; background-position: center;">
                                            <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Cerrar</button>
                                        </div>
                                    </div>
                                </div>
                            </div> 

                            <!-- Modal Carrito de Compra --> <!--lo activa > data-bs-toggle="modal" data-bs-target="#staticSuicheCarBuy" -->
                            <div class="modal fade" id="staticSuicheCarBuy" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabelH3" aria-hidden="true">
                                <div class="modal-dialog border border-secondary p-2 rounded-3" style="background-color: rgb(0, 0, 0, 0.3);">
                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <h5 class="modal-title" id="staticBackdropLabelH3">Carrito de Compra</h5>
                                            <i class="bi bi-x-lg cursor-pointer" data-bs-dismiss="modal"></i>
                                        </div>
                                        <div class="modal-body">
                                            <p><span class="fw-bold text-primary">Agrega un carrito de Compra</span>
                                                "¡Explora nuestra herramienta Carrito de Compra! Agrega fácilmente productos y realiza tu pedido de manera rápida y segura.
                                                 Ofrecele a tus clientes una experiencia de compra cómoda y eficiente."
                                            </p>
                                            <p> Requerimentos : <span class="alert-info py-1 px-2 rounded-2"> <b>11 Anuncios de Items</b>  </span> </p>
                                            <p class="bg-dark text-info rounded-1 p-2"> <i class="bi bi-hourglass-split me-2"></i> Próximamente estará disponible. </p>
                                        </div>
                                        <div class="modal-footer" style="background-image: url('/img/bannerPerfil.png'); background-size: cover; background-position: center;">
                                            <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Cerrar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>                             
                            
                            <!-- Modal Gestor ADS --> <!--lo activa > data-bs-toggle="modal" data-bs-target="#staticSuicheCarBuy" -->
                            <div class="modal fade" id="staticSuicheGestorADS" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabelH4" aria-hidden="true">
                                <div class="modal-dialog border border-secondary p-2 rounded-3" style="background-color: rgb(0, 0, 0, 0.3);">
                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <h5 class="modal-title" id="staticBackdropLabelH4">Gestor de Anuncios</h5>
                                            <i class="bi bi-x-lg cursor-pointer" data-bs-dismiss="modal"></i>
                                        </div>
                                        <div class="modal-body">
                                            <p><span class="fw-bold text-primary">Agrega el Gestor de Anuncios</span>
                                                "Edita múltiples anuncios de forma rápida y sencilla. Visualiza un listado y actualiza diferentes campos al mismo tiempo como titulo, precio y existencia, ideal para tiendas con decenas de artículos."
                                            </p>
                                            <p> Requerimentos : <span class="alert-info py-1 px-2 rounded-2"> <b>11 Anuncios</b>  </span> </p>
                                            <p class="bg-dark text-info rounded-1 p-2"> <i class="bi bi-hourglass-split me-2"></i> Próximamente estará disponible. </p>
                                        </div>
                                        <div class="modal-footer" style="background-image: url('/img/bannerPerfil.png'); background-size: cover; background-position: center;">
                                            <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Cerrar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>                             
                            
                            <!-- Modal Agenda CRM --> <!--lo activa > data-bs-toggle="modal" data-bs-target="#staticSuicheCarBuy" -->
                            <div class="modal fade" id="staticSuicheCRM" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabelH4" aria-hidden="true">
                                <div class="modal-dialog border border-secondary p-2 rounded-3" style="background-color: rgb(0, 0, 0, 0.3);">
                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <h5 class="modal-title" id="staticBackdropLabelH4">Agenda CRM</h5>
                                            <i class="bi bi-x-lg cursor-pointer" data-bs-dismiss="modal"></i>
                                        </div>
                                        <div class="modal-body">
                                            <p><span class="fw-bold text-primary">Agrega la Agenda CRM</span>
                                                "¡Presentamos nuestra Agenda CRM! Organiza y gestiona tus contactos de manera eficiente con nuestro <b>Customer Relationship Management o Gestión de Relación con los Clientes</b>. Mantén un seguimiento de tus interacciones y mejora tus relaciones con los clientes, todo en un solo lugar."
                                            </p>
                                            <p> Requerimentos : <span class="alert-info py-1 px-2 rounded-2"> <b>1 Anuncio</b>  </span> </p>
                                            <p class="bg-dark text-info rounded-1 p-2"> <i class="bi bi-hourglass-split me-2"></i> Próximamente estará disponible. </p>
                                        </div>
                                        <div class="modal-footer" style="background-image: url('/img/bannerPerfil.png'); background-size: cover; background-position: center;">
                                            <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Cerrar</button>
                                        </div>
                                    </div>
                                </div>
                            </div> 

                            <div class="col-lg-8 col-md-8 col-sm-12 py-1 px-0 border" style="background-color: #e9ecef;">
                                    
                                    
                                        <% if (searchProfile.length === 0) {  %> <!-- cuenta sin perfil -->
                                        <div class="card">
                                            <div class="card-header">
                                                Sin Perfil
                                            </div>    
                                            <div class="card-body border">    
                                                <div class="container my-2 p-0 form-control border" style="position: relative; width: 100%; height: auto;">
                                                    
                                                    <img src="/img/bannerDefaultNoProfile.png"  class="rounded-3" style=" width: 100%; height: 100%; object-fit: cover;">

                                                </div>
                                                
                                                <div class="row shadow p-2 m-0 bg-body rounded sinPerfil">
                                                    <div class="col-md-2 col-sm-8  d-flex justify-align-center justify-content-center"> <img src="/img/admiracion.png" style="width : 60px"> </div>
                                                    <div class="col-md-10 col-sm-8 d-flex justify-align-center justify-content-center">
                                                        <span class="m-2"> ¡Aún no te animas a crear tu perfil, vamos solo demora 1 min! </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>          
                                        <% } else { %> <!-- cuenta con perfil -->
                                        <div class="card">
                                            <div class="card-header">
                                                Mi Perfil
                                            </div>    
                                            <div class="card-body border">    
                                                <% searchProfile.forEach( (ele)=> { %>
                                                        <% const bGColorText = ele.bGColorText %> 
                                                        <% const bGColorTopbar = ele.bGColorTopbar %> 
                                                        <% const bGColorWorkspace = ele.bGColorWorkspace %> 

                                                        <input type="hidden" value="<%= bGColorText %>" id="colorText">
                                                        <input type="hidden" value="<%= bGColorTopbar %>" id="colorFrame">
                                                        <input type="hidden" value="<%= bGColorWorkspace %>" id="colorWorkspace">

                                                        <% ele.bannerPerfil.forEach((elem)=>{ %>
                                                        
                                                        <!-- public_id : "sin_data" -->
                                                        <% if (elem.public_id === "sin_data") { %>
                                                            <!-- opcion banner default -->

                                                            <div class="containerBanner my-1 p-0 form-control" style="position: relative; width: 100%; height: auto">
                                                
                                                                <img src="<%= elem.url %>" alt="" class="rounded-3" style=" width: 100%; height: 100%; object-fit: cover;">
                    
                                                    
                                                                <div class="containerChargerBanner" style="width: 100%; position: absolute; bottom: 4px;">
                                                                    <form action="/myaccount/banner" method="post" id="formBannerProfile" enctype="multipart/form-data" class=" d-flex justify-content-end">
                                                                        <input type="file" name="fileImg" id="bannerFile" class="invisible"> <!-- file de carga de img -->
                                                                    
                                                                        <button type="button" class="btn btn-transparent me-1" id="bannerUppload" title="Aqui puedes cambiar el banner"><i class="bi bi-image"></i></button> <!-- primer paso cargar la img con el file -->
                                                                        <button type="submit" class="btn btn-transparent" id="bannerSubmit" style="visibility: hidden; position: absolute; top: -100px;"><i class="bi bi-arrow-up-square"></i></button> <!-- segundo enviar y actualizar img -->
                                                                    </form>
                                                                </div>


        
                                                            </div>

                                                        <% } else { %>
                                                            <!-- opcion banner customizado -->

                                                            <div class="containerBanner my-1 p-0 form-control" style="position: relative; width: 100%; height: 90%">
                                                
                                                                <img src="<%= elem.url %>" alt="" class="rounded-3" style=" width: 100%; height: 90%; object-fit: cover;">
                    
                                                                <div class="containerChargerBanner d-flex justify-content-between" style="width: 100%; height: 44px; position: absolute; bottom: 3px;">
                                                                    

                                                                    <!-- opcion subir banner default -->
                                                                    <div class="containerUploadBannerDefault d-flex justify-content-start" style= "display : inline; width:100px; position: relative;">
                                                                        <a href="/myaccount/bannerDefault" class="d-flex justify-content-center align-items-center" id="bannerUpploadDefault" title="Restaurar Banner por Defecto" style="position: absolute; left: 5px; color: black">
                                                                            <i class="bi bi-arrow-counterclockwise"></i>
                                                                        </a>
                                                                    </div>


                                                                    <!-- opcion subir banner customizado -->
                                                                    <form action="/myaccount/banner" method="post" id="formBannerProfile" enctype="multipart/form-data" class=" d-flex justify-content-end" style= "display : inline; width:100px; position: relative;" >
                                                                        <input type="file" name="fileImg" id="bannerFile" class="invisible"> <!-- file de carga de img -->
                                                                    
                                                                        <button type="button" class="btn btn-transparent me-1" id="bannerUppload" title="Aqui puedes cambiar el banner" style="position: absolute; right: 5px;"><i class="bi bi-image"></i></button> <!-- primer paso cargar la img con el file -->
                                                                        <button type="submit" class="btn btn-transparent" id="bannerSubmit" style="visibility: hidden; position: absolute; top: -150px;"></button> <!-- segundo enviar y actualizar img -->
                                                                    </form>



                                                                </div>      

        
                                                            </div>
                                                            
                                                        <% }; %>


                                                    <%  }) %>
                                                
                                            
                                                    <div class="container-fluid px-0">
                                                            <div class="container-fluid p-0 mx-0 mb-1 rounded-3" style="width: 100%; background-color:<%= ele.bGColorTopbar %>">
                                                                
                                                                <div class="containerAvatarUsername">
                                                                    <form action="/myaccount/avatar" method="post" id="formAvatarProfile" enctype="multipart/form-data" class="d-flex align-items-end">
                                                    <% ele.avatarPerfil.forEach((eleAvatar)=>{ %>

                                                        <% if(eleAvatar.public_id == 'sin_data'){  %>
                                                                    <div class="contentMainAvatarUsername d-flex align-items-center">                  
                                                                        <div class="form-group m-2">
                                                                            <img src="https://www.gravatar.com/avatar/<%= user.mailhash %>?d=identicon" class="imgPerfil">
                                                                            <input type="file" name="fileImg" id="avatarFile" class="sinBody">
                                                                        </div>
                                                                        <div class="form-group d-flex flex-column">
                                                                            <span class="px-2 mx-1" style="font-size: 20px;color: <%= ele.bGColorText %>;"><%= user.username %></span>
                                                                            <span class="px-2 mx-1" style="font-size: 16px;color: <%= ele.bGColorText %>;"><%= user.email %></span>
                                                                            <input type="submit" id="avatarSubmit" class="sinBody">
                                                                        </div>
                                                                    </div>        
                                                        <% } else { %>              
                                                                    <div class="contentMainAvatarUsername d-flex align-items-center">
                                                                        <div class="form-group m-2">
                                                                            <img src="<%= eleAvatar.url %>" alt="avatar" class="imgPerfil">
                                                                            <input type="file" name="fileImg" id="avatarFile" class="sinBody">
                                                                        </div>
                                                                        <div class="form-group d-flex flex-column">    
                                                                            <span class="px-2 mx-1" style="font-size: 20px;color: <%= ele.bGColorText %>;"><%= user.username %></span>
                                                                            <span class="px-2 mx-1" style="font-size: 16px;color: <%= ele.bGColorText %>;"><%= user.email %></span>
                                                                            <input type="submit" id="avatarSubmit" class="sinBody">
                                                                        </div>
                                                                    </div>        
                                                        <% }; %> 
                                                            
                                                    <% }); %>                        
                                                                            
                                                                    </form>    
                                                                </div>

                                                            </div>

                                                            <div class="datesUser">
                                                                <span class="me-1"><%= ele.names %></span><br>
                                                                <!-- <span><%= ele.dateborn %></span> <br> -->
                                                                <!-- <span>Genero: <%= ele.genero %></span> <br> -->
                                                                <span class="me-1">Estado: <%= ele.states %></span>
                                                                <span>Telefono: <%= ele.phone %></span> <br>

                                                                <% if (ele.facebook) { %>
                                                                    <span class="me-3 "><i class="bi bi-facebook me-2"></i><%= ele.facebook %></span>
                                                                <% } %>

                                                                <% if (ele.instagram) { %>
                                                                    <span class="me-3 "><i class="bi bi-instagram me-2"></i><%= ele.instagram %></span>
                                                                <% } %>

                                                                <% if (ele.youtube) { %>
                                                                    <span class="me-3 "><i class="bi bi-youtube me-2"></i><%= ele.youtube %></span>
                                                                <% } %>

                                                                <% if (ele.tiktok) { %>
                                                                    <span class="me-3 "><i class="bi bi-tiktok me-2"></i> <%= ele.tiktok %></span>
                                                                <% } %>     
                    
                                                                    
                                                            </div>

                                                            <div class="row m-0 updateBackgroundColor my-1 overflow-auto w-100"  style="height: auto; overflow-x: scroll;">
                                                                <div class="col-lg-10 col-md-10 col-sm-12 col-12 rounded-3 d-flex flex-column p-2 align-items-center justify-content-between overflow-auto w-100">
<!--                                                                 
                                                                    <form action="/myaccount/bGColor" method="post" class="p-0 d-flex flex-column  overflow-auto w-100">
                                                                    
                                                                            <div class="containerDetailsButtom my-0 d-flex" style="width: 100%; height: 31px;">
                                                                                <div class="showPint me-2" style="width: 28px; height: 28px; border: 1px solid grey; background-color:<%= ele.bGColorText %>"></div>
                                                                                <span class="p-0">Text :</span>
                                                                                <input type="radio" id="defaultText" name="typeText" value="#1a1a1a" class="mx-2"><label for="defaultText">Default</label>
                                                                                <input type="radio" id="customText" name="typeText" value="customTex" class="mx-2"><label for="customText">Custom</label>
                                                                                <input type="color" name="bGColorText" id="bgColorText" value="<%= ele.bGColorText %>" class="ms-3 rounded-2 sinBody">
                                                                            </div>
                                                                            
                                                                            <div class="containerDetailsButtom my-0 d-flex" style="width: 100%; height: 31px;">
                                                                                <div class="showPint me-2" style="width: 28px; height: 28px; border: 1px solid grey; background-color:<%= ele.bGColorTopbar %>"></div>
                                                                                <span class="p-0">Topbar :</span>
                                                                                <input type="radio" id="defaultTopbar" name="typeTopbar" value="#f8f9fa" class="mx-2"><label for="defaultTopbar">Default</label>
                                                                                <input type="radio" id="customTopbar" name="typeTopbar" value="customTop" class="mx-2"><label for="customTopbar">Custom</label>
                                                                                <input type="color" name="bGColorTopbar" id="bgColorTopbar" value="<%= ele.bGColorTopbar %>" class="ms-3 rounded-2 sinBody">
                                                                            </div>
                                                                            
                                                                            <div class="containerDetailsButtom my-0 d-flex" style="width: 100%; height: 31px;">
                                                                                <div class="showPint me-2" style="width: 28px; height: 28px; border: 1px solid grey; background-color:<%= ele.bGColorWorkspace %>"></div>
                                                                                <span class="p-0">Workspace :</span>
                                                                                <input type="radio" id="defaultWorkspace" name="typeWorkspace" value="#ffffff" class="mx-2"><label for="defaultWorkspace">Default</label>
                                                                                <input type="radio" id="customWorkspace" name="typeWorkspace" value="customWork" class="mx-2"><label for="customWorkspace">Custom</label>
                                                                                <input type="color" name="bGColorWorkspace" id="bgColorWorkspace" value="<%= ele.bGColorWorkspace %>" class="ms-3 rounded-2 sinBody">
                                                                            </div>                                                                        

                                                                            <button type="submit" class="btn btn-secondary btn-sm my-1">Aceptar Cambios</button>
                                                                    </form>
                                                                     -->
                                                                    <form  id="formZonaBliss" class="p-0 d-flex flex-column overflow-auto w-100">
                                                                    
                                                                        <div class="containerDetailsButtom my-0 d-flex" style="width: 100%; height: 31px;">
                                                                            <div class="showPint me-2" style="width: 28px; height: 28px; border: 1px solid grey; background-color:<%= bGColorText %>"></div>
                                                                            <span class="p-0">Text :</span>
                                                                            <input type="radio" id="defaultText" value="#1a1a1a" name="text" class="mx-2"><label for="defaultText">Default</label>
                                                                            <input type="radio" id="customText" value="" name="text" class="mx-2"><label for="customText">Custom</label>
                                                                            <input type="color" id="bgColorText" value="<%= bGColorText %>" class="ms-3 rounded-2 sinBody" style="border: 1px solid gray">
                                                                            <div class="defaultBoxtext ms-3 rounded-2 close" style="width: 45px; height: 28px; border: 1px solid grey; background-color:#1a1a1a"></div>
                                                                        </div>
                                                                        
                                                                        <div class="containerDetailsButtom my-0 d-flex" style="width: 100%; height: 31px;">
                                                                            <div class="showPint me-2" style="width: 28px; height: 28px; border: 1px solid grey; background-color:<%= bGColorTopbar %>"></div>
                                                                            <span class="p-0">Frame :</span>
                                                                            <input type="radio" id="defaultTopbar" value="#f8f9fa" name="frame" class="mx-2"><label for="defaultTopbar">Default</label>
                                                                            <input type="radio" id="customTopbar" value="" name="frame" class="mx-2"><label for="customTopbar">Custom</label>
                                                                            <input type="color"  id="bgColorTopbar" value="<%= bGColorTopbar %>" class="ms-3 rounded-2 sinBody" style="border: 1px solid gray">
                                                                            <div class="defaultBoxFrame ms-3 rounded-2 close" style="width: 45px; height: 28px; border: 1px solid grey; background-color:#f8f9fa"></div>
                                                                        </div>
                            
                                                                        
                                                                        <div class="containerDetailsButtom my-0 d-flex" style="width: 100%; height: 31px;">
                                                                            <div class="showPint me-2" style="width: 28px; height: 28px; border: 1px solid grey; background-color:<%= bGColorWorkspace %>"></div>
                                                                            <span class="p-0">Workspace :</span>
                                                                            <input type="radio" id="defaultWorkspace" value="#ffffff" name="workspace" class="mx-2"><label for="defaultWorkspace">Default</label>
                                                                            <input type="radio" id="customWorkspace"  value="" name="workspace" class="mx-2"><label for="customWorkspace">Custom</label>
                                                                            <input type="color" id="bgColorWorkspace" value="<%= bGColorWorkspace %>" class="ms-3 rounded-2 sinBody" style="border: 1px solid gray">
                                                                            <div class="defaultBoxWorkspace ms-3 rounded-2 close" style="width: 45px; height: 28px; border: 1px solid grey; background-color:#ffffff"></div>
                                                                        </div>  
                                                                        
                            
                                                                        <button id="btnSubmitZonaBliss" class="btn btn-secondary btn-sm my-1">Aceptar Cambios</button>
                                                                    </form>
                                                                    
                                                                    <div class="containerAD-QR my-2 rounded" style="width: 100%;">
                                                                        <div class="containerADQR my-0 form-group">
                                                                            Descarga tu Anuncio de tienda virtual y colocalo en un lugar visible. 
                                                                            <button class="btn btn-secondary btn-sm my-1 form-control" id="adQR"> <i class="bi bi-card-heading mx-2" style="font-size: larger;"></i> Ver Tarjeta  </button>                                                                      
                                                                            <input type="hidden" value="<%= user.username %>" id="urlStore">
                                                                        </div>
                                                                    </div>
                                                                    <div class="contentMainQR close" style="width: 100%; background: linear-gradient(90deg, rgba(146,0,255,1) 0%, rgb(75, 60, 97) 100%);">
                                                                        <div class="contentQR d-flex justify-content-center pb-2 closed" style="width: 100%;">

                                                                            <div class="ContentParaDescargarEnPerfil shadow">
                                                                                <img src="/img/paraDescargarEnPerfil.png" alt="" class="paraDescargarEnPerfil">
                                                                                <canvas class="close" id="qr-canvas"> 
                                                                                    <!-- dinamico --> 
                                                                                </canvas>
                                                                                <span class="urlTiendaEnPerfilParaDescargar">
                                                                                    <!-- dinamico -->
                                                                                </span>
                                                                                <span class="usernameEnPerfilParaDescargar">
                                                                                    <!-- dinamico -->
                                                                                </span>
                                                                            
                                                                            </div>

                                                                            
                                                                        </div>

                                                                        <div class="contentButton form-group p-2">
                                                                            <button class="form-control btn btn-primary" id="downloadCard"> <i class="bi bi-card-heading mx-2" style="font-size: larger;"></i>  Descargar Tarjeta  </button>
                                                                        </div>
                                                                    </div>
                                                                
                                                                </div> 
                                                            </div>
                    
                                                            <div class="row shadow p-2 m-2 bg-body rounded border">
                                                                
                                                               
                                                                <% if (user) {  %>
                                                                <div class="col-lg-9 col-md-9 col-sm-11 d-flex justify-align-center justify-content-center">
                                                                    <span class="m-2">  <img src="/img/cheched.png" style="width : 45px; height: 45px;"> ¡ Perfil creado exitosamente, puedes editar cuando lo necesites ! </span>
                                                                </div> 
                                                                <div class="col-lg-3 col-md-3 col-sm-11">       
                                                                    <div class="form-group d-flex align-items-center justify-content-center" style="width: 100%; height: 100%;">
                                                                        <a href="/account/<%= user.username %>" class="btn btn-primary text-decoration-none rounded-3 w-100 d-block">
                                                                            <i class="bi bi-shop-window me-1"></i> Ir a mi Tienda
                                                                        </a>
                                                                    </div>
                                                                </div>     
                                                                <% } %>                          
                                                                    
                                                                 
                                                            </div>

                                                    </div>        
                                                <% }); %>
                                            
                                            </div>
                                        </div>

                                        <!-- esto es zonaBliss -->
                                        <div class="card mt-2" style="background-image: url('/img/bannerZonaBliss2.png'); background-size: cover; background-position: center;">
                                            <div class="card-body">

                                                <div class="row shadow px-2 py-4 m-2 rounded border"> 
                                                
                                                                
                                                               
                                                    <% if (user) {  %>
                                                    <div class="col-lg-9 col-md-9 col-sm-11 d-flex justify-align-center justify-content-center">
                                                        <span class="m-2 p-3 rounded-3 text-light cursor-pointer" style="background-color: rgba(0, 0, 0, 0.9);" data-bs-toggle="modal" data-bs-target="#staticZonaBliss">  ¡Es hora de darle un poco más de estilo a tu Tienda! <i class="bi bi-info-circle mx-1"></i> </span>
                                                    </div> 
                                                    <div class="col-lg-3 col-md-3 col-sm-11">       
                                                        <div class="form-group d-flex align-items-center justify-content-center" style="width: 100%; height: 100%;">

                                                            <% if(sumCount >= 1) { %>
                                                                
                                                                <a href="/zonabliss/<%= user._id %>" class="btn btn-dark text-light text-decoration-none rounded-3 w-100 d-block">
                                                                    <i class="bi bi-brush me-1"></i> Ir a ZonaBliss
                                                                </a>
                        
                                                            <% } %>    

                                                        </div>
                                                    </div>     
                                                    <% } %>                          
                                                        
                                                     
                                                </div>

                                            </div>
                                        </div>

                                        <div class="card mt-2">
                                            <% searchProfile.forEach( (ele)=> { %>
                                                <div class="card-header">
                                                    Herramientas de Tienda
                                                </div>
                                                <div class="card-body">

                                                    <div class="container-fluid p-0 mb-3">
                                                        <div class="alert alert-dark" style="border-left: 5px solid #131313;">
                                                            <p class="m-0">
                                                                <span class="ms-2"> <i class="bi bi-exclamation-triangle-fill"></i> </span> 
                                                                Importante : "¡Hola! Explora estas herramientas para mejorar la experiencia de tus clientes. Haz clic en el ícono de información para más detalles. <i class="bi bi-info-circle mx-1"></i>"   
                                                            </p>
                                                        </div>
                                                    </div>
                                                    
                                                    <span class="alert alert-dark rounded-2 p-2" style="border-left: 5px solid #131313;">
                                                        <span>Anuncios Existentes :</span>
                                                        <% if(sumCount) { %>  <span class="px-2">  <b><%= sumCount %></b>  </span>  <% } else { %> <span class="px-2"><%= sumCount %> </span> <% } %>
                                                    </span>
                                                    
                                                    <div class="containerTools m-2 p-1 border-bottom ">


                                                        <div class="containerSearch my-2 d-flex justify-content-between py-1" style="width: 100%; background-color: rgb(228, 228, 228, 0.3);">
                                                        <!--  cantidad de articulos para habilitar la opcion de busqueda -->
                                                            <div class="contentSoonSearch d-flex">
                                                            <% if(sumCount >= 11) { %>    
                                                                <label class="form-check-label no-select p-0 me-2" for="CheckSearch" title=" Debes tener mas de 11 articulos para habilitar esta opción">○ Buscador de Tienda </label>
                                                                <div class="form-check form-switch">
                                                                                                                    
                                                                    <% if (ele.searchFilter === 'on' ){%>  
                                                                    <input class="form-check-input searchFilter" type="checkbox" id="CheckSearch" name="filter" value="off" checked> <i class="bi bi-unlock ms-1"></i>
                                                                    <% } else { %>
                                                                    <input class="form-check-input searchFilter" type="checkbox" id="CheckSearch" name="filter" value="on"> <i class="bi bi-unlock ms-1"></i>
                                                                    <% }; %>
                                                                    
                                                                </div>
                                                            <% } else { %>
                                                                <label class="form-check-label no-select p-0 me-2" for="CheckSearch"  title=" Debes tener mas de 11 articulos para habilitar esta opción">○ Buscador de Tienda </label>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox" disabled> <i class="bi bi-lock ms-1"></i>                                                                      
                                                                </div>
                                                            <% }; %>
                                                            </div> 
                                                            <div class="cursor-pointer info-icon" data-bs-toggle="modal" data-bs-target="#staticCheckSearch"> <i class="bi bi-info-circle mx-1"></i> </div>       
                                                        </div>

                                                        <div class="containerCarBuy my-2 d-flex justify-content-between py-1" style="width: 100%; background-color: rgb(228, 228, 228, 0.3);">
                                                            <div class="contentSoonCarBuy d-flex">
                                                                <label class="form-check-label no-select p-0 me-2" for="suicheCarBuy" title="Activa un carrito de compra, debes tener al menos 11 articulos del departamento de Items">○ Carrito de Compra </label>
                                                                <div class="form-check form-switch">
                                                                                                                    
                                                                    <input class="form-check-input" type="checkbox" id="suicheCarBuy" name="Buy" value="off" disabled> <i class="bi bi-lock ms-1"></i> 

                                                                </div>
                                                            </div>    
                                                            <div class="cursor-pointer info-icon" data-bs-toggle="modal" data-bs-target="#staticSuicheCarBuy"> <i class="bi bi-info-circle mx-1"></i> </div>
                                                        </div>

                                                        <div class="containerCarBuy my-2 d-flex justify-content-between py-1" style="width: 100%; background-color: rgb(228, 228, 228, 0.3);">
                                                            <div class="contentSoonCarBuy d-flex">
                                                                <label class="form-check-label no-select p-0 me-2" for="suicheADS" title="Para activar esta opción, debes tener al menos 11 articulos.">○ Gestor de Anuncios </label>
                                                                <div class="form-check form-switch">
                                                                                                                    
                                                                    <input class="form-check-input" type="checkbox" id="suicheADS" name="updateADS" value="off" disabled> <i class="bi bi-lock ms-1"></i> 

                                                                </div>
                                                            </div>    
                                                            <div class="cursor-pointer info-icon" data-bs-toggle="modal" data-bs-target="#staticSuicheGestorADS"> <i class="bi bi-info-circle mx-1"></i> </div>
                                                        </div>

                                                        <div class="containerCRM my-2 d-flex justify-content-between py-1" style="width: 100%; background-color: rgb(228, 228, 228, 0.3);">
                                                            <div class="contentSoonCRM d-flex">    
                                                                <label class="form-check-label no-select p-0 me-2" for="suicheCRM" title="Activa la opción CRM (Customer Relationship Management) debes tener al menos 1 articulos de cualquier departamento publicado">○ Agenda CRM </label>
                                                                <div class="form-check form-switch">
                                                                                                                    
                                                                    <input class="form-check-input" type="checkbox" id="suicheCRM" name="CRM" value="off" disabled>  <i class="bi bi-lock ms-1"></i> 

                                                                </div>
                                                            </div>
                                                            <div class="cursor-pointer info-icon" data-bs-toggle="modal" data-bs-target="#staticSuicheCRM"> <i class="bi bi-info-circle mx-1"></i> </div>    
                                                        </div>

                                                    </div>
                                                    <div class="containerIrATienda d-flex justify-content-end">

                                                        <div class="row m-0" style="width: 100%; height: 100%;">
                                                            <div class="col-lg-6 col-md-6 col-sm-12 form-group">
                                                                <a href="/admin-store" class="mt-1 btn btn-secondary text-light text-decoration-none rounded-3 d-block w-100">
                                                                    <i class="bi bi-gear me-1"></i> Administración
                                                                </a>
                                                            </div>
                                                            <div class="col-lg-6 col-md-6 col-sm-12 form-group"> 
                                                                <a href="/account/<%= user.username %>" class="mt-1 btn btn-primary text-decoration-none rounded-3 d-block w-100">
                                                                    <i class="bi bi-shop-window me-1"></i> Mi Tienda
                                                                </a>   
                                                            </div>    
                                                        </div>
                                                    
                                                    </div>
                                                </div>
                                            <% }) %>
                                        </div>
                                        <% } %>                                                        

                                                    
                                                
                            </div>

                        </div>    

                    </div>
                </div>
         </div>

         <% } else { %>
            <div class="container-fluid d-flex justify-content-center p-3" style="height: 90%; width: 100%; background-color:  rgb(243, 238, 238); box-shadow: 1px 1px 5px 1px rgb(99, 98, 98);  border-top: 2px ridge  rgb(243, 238, 238);">
               
                <%- include('../partials/noLogin.ejs') %>

            </div>  
         <% }; %>

    </main>
        <%- include('../partials/scripts.ejs') %>
        <%- include('../partials/scriptsOnlyNavi-simpleNoIcons.ejs') %>
        <!-- este cnd es el constructor de QR  se encuentra en https://cdnjs.com/libraries/qrious -->
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script> esta sirve tambien pero deje la de abajo, no se cual es la diferencia entre ambas pero este es la cdn para crear los QR-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js" integrity="sha512-pUhApVQtLbnpLtJn6DuzDD5o2xtmLJnJ7oBoMsBnzOkVkpqofGLGPaBJ6ayD2zQe3lCgCibhJBi4cj5wAxwVKA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>


        <script>
            /* bloquear botones de crear perfil al darle click para evitar duplicacion de perfiles */

            let formCreateProfile = document.getElementById('formCreatePerfil');
            let btnCreateProfile = document.getElementById('btnCreateProfile');
            let btnCreateLoading = document.getElementById('btnCreateLoading');

            let formEditePerfil = document.getElementById('formEditePerfil');
            let btnEditProfile = document.getElementById('btnEditProfile');
            let btnEditingLoading = document.getElementById('btnEditingLoading');

            //crear perfil seguridad para evitar duplicacion y efecto spinin
            if (formCreateProfile){
                formCreateProfile.addEventListener('submit', (e)=>{
                    e.preventDefault();
                    console.log("Enviando datos al backend")
                    btnCreateLoading.classList.remove('close');
                    btnCreateProfile.classList.add('close');
                    function enviarPerfil(){
                        e.target.submit()
                    }

                    setTimeout(enviarPerfil, 3000)
                })
            }   
            
            //edit perfil seguridad para evitar varios reenvio del los cambios evitar saturar el servidor y efecto spinin
            if (formEditePerfil){
                formEditePerfil.addEventListener('submit', (e)=>{
                    e.preventDefault();
                    console.log("Enviando datos al backend")
                    btnEditingLoading.classList.remove('close');
                    btnEditProfile.classList.add('close');
                    function enviarPerfil(){
                        e.target.submit()
                    }

                    setTimeout(enviarPerfil, 3000)
                })
            }


        </script>

        <script>
            /* selector de pestañas personal y banco */
            const btnBank = document.getElementById('btnBank');
            const btnPersonal = document.getElementById('btnPersonal');
            const contentBank = document.querySelector('.contentBank');
            const contentPersonal = document.querySelector('.contentPersonal');

            btnBank.addEventListener('click', ()=>{
                btnBank.classList.add('active');
                btnPersonal.classList.remove('active');

                contentBank.classList.remove('close');
                contentPersonal.classList.add('close');

            })

            btnPersonal.addEventListener('click', ()=>{
                btnBank.classList.remove('active');
                btnPersonal.classList.add('active');

                contentBank.classList.add('close');
                contentPersonal.classList.remove('close');
            })


        </script>

        <script>
            /* Data de bancos y codigo para agregar a los selectores de bancos */
            const selectBankPagoMovil = document.getElementById('selectBankPagoMovil');
            const codBankPagoMovil = document.getElementById('codBankPagoMovil');
            const docPagoMovil_Id = document.getElementById('docPagoMovil_Id');
            const telePagoMovil_Id = document.getElementById('telePagoMovil_Id');
            
            const selectBankTransf = document.getElementById('selectBankTransf');
            const codBankTrans = document.getElementById('codBankTrans');
            const accountNumberTransf_Id = document.getElementById('accountNumberTransf_Id');
            const toNameTransf_Id = document.getElementById('toNameTransf_Id');
            const docTransf_Id = document.getElementById('docTransf_Id');    
            
            const allBank = [   {code : "", bank : "Selecciona un Banco"},
                                {code : "0102", bank : "BANCO DE VENEZUELA S.A. BANCO UNIVERSAL"},
                                {code : "0104", bank : "VENEZOLANO DE CREDITO, S.A. BANCO UNIVERSAL"},
                                {code : "0105", bank : "MERCANTIL BANCO UNIVERSAL"},
                                {code : "0108", bank : "BANCO PROVINCIAL S.A. BANCO UNIVERSAL"},
                                {code : "0114", bank : "BANCO DEL CARIBE S.A.C.A."},
                                {code : "0115", bank : "BANCO EXTERIOR, C.A."},
                                {code : "0116", bank : "BANCO OCCIDENTAL DE DESCUENTO S.A.C.A."},
                                {code : "0128", bank : "BANCO CARONI, C.A. BANCO UNIVERSAL"},
                                {code : "0134", bank : "BANESCO BANCO UNIVERSAL"},
                                {code : "0137", bank : "BANCO SOFITASA"},
                                {code : "0138", bank : "BANCO PLAZA"},
                                {code : "0151", bank : "FONDO COMUN, C.A. BANCO UNIVERSAL"},
                                {code : "0156", bank : "100% BANCO, BANCO UNIVERSAL C.A."},
                                {code : "0157", bank : "DEL SUR BANCO UNIVERSAL, C.A."},
                                {code : "0163", bank : "BANCO DEL TESORO."},
                                {code : "0166", bank : "BANCO AGRICOLA DE VENEZUELA C.A."},
                                {code : "0168", bank : "S.A. BANCO MICROFINANCIERO"},
                                {code : "0169", bank : "MIBANCO BANCO DE DESARROLLO"},
                                {code : "0171", bank : "BANCO ACTIVO, C.A."},
                                {code : "0172", bank : "BANCAMIGA BANCO UNIVERSAL"},
                                {code : "0174", bank : "BANPLUS BANCO UNIVERSAL, C.A."},
                                {code : "0175", bank : "BANCO BICENTENARIO BANCO UNIVERSAL C.A."},
                                {code : "0177", bank : "BANCO DE LA FUERZA ARMADA NACIONAL BOLIVARIANA"},
                                {code : "0191", bank : "BANCO NACIONAL DE CREDITO, C.A."}
                            ];
                                       

            allBank.forEach((ele)=>{
                const code = ele.code;
                const bank = ele.bank;
                selectBankPagoMovil.innerHTML += `<option value="${bank}"> ${bank}</option>`
                selectBankTransf.innerHTML += `<option value="${bank}"> ${bank}</option>`
                
            })                
              

           selectBankTransf.addEventListener('change', ()=>{
            
                const bankSelected = selectBankTransf.value;
                console.log("bankSelected ---------->", bankSelected)
                
                allBank.forEach((ele)=>{
                    //console.log("ele --->", ele);
                    const code = ele.code;
                    const bank = ele.bank;
                    //console.log(bank, code);
                     if (bankSelected === bank){
                        //console.log("bankSelected ", bankSelected)
                        codBankTrans.value = code;
                        if (code === ""){
                            docTransf_Id.value ="";
                            toNameTransf_Id.value ="";
                            accountNumberTransf_Id.value ="";
                        }
                     } 
                     

                })
                 
           });

           selectBankPagoMovil.addEventListener('change', ()=>{
               
                const bankSelected = selectBankPagoMovil.value;
                //console.log("bankSelected ---------->", bankSelected)
                allBank.forEach((ele)=>{
                    //console.log("ele --->", ele);
                    const code = ele.code;
                    const bank = ele.bank;
                    //console.log(bank, code);
                     if (bankSelected === bank){
                        //console.log("bankSelected ", bankSelected)
                        codBankPagoMovil.value = code;
                        if (code === ""){
                            //console.log("borrar todo")
                            docPagoMovil_Id.value = "";
                            telePagoMovil_Id.value = "";
                        }
                     }   

                })

           })
           


        </script>

        <script>
            /* aqui es donde solicito al backen la peticion de los datos bancarios  para alimentar el modulo "bancario" */
            
            fetch("/myaccount/bank", {
            method: "GET",
            headers: { "Content-Type" : "applications/json"}
            })
            .then(response =>response.json() )
            .then( jsonx => {
                //console.log("Esto viene del backend", jsonx.data);
                const pagoMovil = jsonx.data[0].pagoMovil
                const transfBank = jsonx.data[0].transfBank
                //console.log("pagoMovil", pagoMovil);
                //console.log("transfBank", transfBank);
            
                //datos pagoMovil
                const bankPagoMovil = pagoMovil.bankPagoMovil; 
                const codPagoMovil = pagoMovil.codPagoMovil;
                const docPagoMovil = pagoMovil.docPagoMovil;
                const telePagoMovil = pagoMovil.telePagoMovil;
                //console.log(bankPagoMovil, codPagoMovil, docPagoMovil, telePagoMovil)

                selectBankPagoMovil.value = bankPagoMovil;
                codBankPagoMovil.value = codPagoMovil;
                docPagoMovil_Id.value = docPagoMovil;
                telePagoMovil_Id.value = telePagoMovil;

                //datos transferenciaBank
                
                const accountNumberTransf = transfBank.accountNumberTransf;
                const bankPagoTransf = transfBank.bankPagoTransf;
                const codPagoTransf = transfBank.codPagoTransf;
                const docPagoTransf = transfBank.docPagoTransf;
                const toNameTransf = transfBank.toNameTransf
                //console.log(accountNumberTransf, bankPagoTransf, codPagoTransf, docPagoTransf, toNameTransf)
                selectBankTransf.value =  bankPagoTransf
                codBankTrans.value = codPagoTransf
                accountNumberTransf_Id.value = accountNumberTransf
                toNameTransf_Id.value = toNameTransf
                docTransf_Id.value = docPagoTransf

  
            })
            .catch( err => console.log(err));


        </script>

        <script>
            const idProfile = document.getElementById('idProfile');
            //const selectBankPagoMovil = document.getElementById('selectBankPagoMovil'); ya declarado arriba
            //const codBankPagoMovil = document.getElementById('codBankPagoMovil'); ya declarado arriba
            //const docPagoMovil_Id = document.getElementById('docPagoMovil_Id'); ya declarado arriba
            //const telePagoMovil_Id = document.getElementById('telePagoMovil_Id'); ya declarado arriba

            //const selectBankTransf = document.getElementById('selectBankTransf'); ya declarado arriba
            //const codBankTrans = document.getElementById('codBankTrans'); ya declarado arriba
            //const accountNumberTransf_Id = document.getElementById('accountNumberTransf_Id'); ya declarado arriba
            //const toNameTransf_Id = document.getElementById('toNameTransf_Id'); ya declarado arriba
            //const docTransf_Id = document.getElementById('docTransf_Id'); ya declarado arriba
            
            const alertCreatedBank = document.getElementById('alertCreatedBank');
            const alertEditedBank = document.getElementById('alertEditedBank');

            const btnEditBank = document.getElementById('btnEditBank');
            const btnEditingBankLoading = document.getElementById('btnEditingBankLoading');

            btnEditBank.addEventListener('click', ()=>{

                btnEditBank.classList.add('close');
                btnEditingBankLoading.classList.remove('close');

                const iDProfile = idProfile.value;
                const bankPM = selectBankPagoMovil.value;
                const codePM = codBankPagoMovil.value;
                const docuPM = docPagoMovil_Id.value;
                const telePM = telePagoMovil_Id.value

                const bankT = selectBankTransf.value;
                const codeT = codBankTrans.value;
                const accountNumberT = accountNumberTransf_Id.value;
                const toNameT = toNameTransf_Id.value;
                const docT = docTransf_Id.value;

                //console.log("--------Revisar estos datos--------");
                //console.log(`iDProfile : ${iDProfile}`)
                //console.log(`bankPM : ${bankPM} codePM : ${codePM} docuPM : ${docuPM}  telePM : ${telePM}`);
                //console.log(`bankT : ${bankT} codeT : ${codeT} accountNumberT : ${accountNumberT} toNameT : ${toNameT} docT : ${docT}`)

                const datos = {
                        iDProfile,
                        bankPagoMovil : bankPM,
                        codPagoMovil : codePM,
                        docPagoMovil : docuPM,
                        telePagoMovil : telePM,
                        bankPagoTransf : bankT,
                        codPagoTransf : codeT,
                        accountNumberTransf : accountNumberT,
                        toNameTransf : toNameT,
                        docPagoTransf : docT    
                    };

                    fetch('/myaccount/bank', {

                    method: "post",
                    body: JSON.stringify(datos),
                    headers: {"content-type" : "application/json"}

                    })
                    .then(response =>response.json() )
                    .then( jsonx => { 
                        
                        //console.log("Aqui el response del backend ->", jsonx);
                        const response = jsonx.response;

                        btnEditBank.classList.remove('close');
                        btnEditingBankLoading.classList.add('close');

                        if (response === "created"){
                            alertCreatedBank.classList.remove('close');
                            setInterval(() => {
                                alertCreatedBank.classList.add('close');
                            }, 3000);
                            
                        } else if (response === "edited") {
                            alertEditedBank.classList.remove('close');
                            setInterval(() => {
                                alertEditedBank.classList.add('close');
                            }, 3000); 

                        } else {
                            alertDeletedBank.classList.remove('close');
                            setInterval(() => {
                                alertDeletedBank.classList.add('close');
                            }, 3000); 

                        }
                        
                    
                        })
                    .catch( err => console.log(err));

                
                    

            })


        </script>

        <!-- para cambiar el banner -->
        <script>
   
            const bannerFile = document.getElementById('bannerFile');
            const bannerUppload = document.getElementById('bannerUppload');
            const bannerSubmit = document.getElementById('bannerSubmit');
           
            //banneUppload solo existe cuando ya el usuario ha creado un profile,
            //mientras no existe.
            if (bannerUppload){

                bannerUppload.addEventListener('click', ()=>{

                    bannerFile.click();

                });

                bannerFile.addEventListener('change', ()=>{
                
                    console.log(bannerFile.files[0].size)
                    if (bannerFile.files[0].size !== 0){
                        bannerSubmit.click();
                    }

                });
            }

            
        </script>
        
        <!-- para cambiar el avatar -->
        <script>

            const avatarFile = document.querySelector('#avatarFile');
            const imgPerfil = document.querySelector('.imgPerfil');
            const avatarSubmit = document.querySelector('#avatarSubmit');

            //imgPerfil solo existe cuando ya el usuario ha creado un profile,
            //mientras no existe.
            if (imgPerfil){

                imgPerfil.addEventListener('click', ()=>{
                    avatarFile.click();
                });

                avatarFile.addEventListener('change', ()=>{
                    console.log(avatarFile.files[0].size)
                    if (avatarFile.files[0].size !== 0){
                        avatarSubmit.click();
                    }
                })

            }

        </script>

        <!-- para cambiar integra el buscardor en la tienda -->
        <script>
                                                      
            const searchFilter = document.querySelector('.searchFilter');
            
            if(searchFilter){

                searchFilter.addEventListener('change', ()=>{
                //console.log(searchFilter.value);
            
                let dato = {
                    searchFilter : searchFilter.value
                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                fetch('/myaccount/filter-search', {
                    method : "POST",
                    body : JSON.stringify(dato),
                    headers : { "content-type" : "application/json"}
                })
                    .then(response => response.json())
                    .then(json =>{
                        searchFilter.value = json
                    })

                    .catch(err => console.error(err));

                });

            }

        </script>

    <!-- peticion para carga de estados y ciudades de un pais -->

    <script>
        //este script lo desarrolle al cumplir los 9 meses exactamente de desarrollo de este proyecto.

        const estados = document.getElementById('estados');
        const ciudades = document.getElementById('ciudades');
        const estadosEdit = document.getElementById('estadosEdit');
        const ciudadesEdit = document.getElementById('ciudadesEdit');

        window.addEventListener('load', ()=>{

        if (estados && ciudades){
          
            fetch("/country", {
                method: "GET",
                headers: { "Content-Type" : "applications/json"}
            })
            .then(response =>response.json() )
            .then( ve => { 
                console.log(ve)
                for (let i = 0; i < ve.length; i++) {
                    const element = ve[i].estado;
                    //console.log("estados", element);
                    estados.innerHTML += `<option value="${element}">${element}</option>`
                }
                estados.addEventListener('change', ()=>{
                    console.log(estados.value);
                    const edo = estados.value;

                    for (let n = 0; n < ve.length; n++) {
                        const ele = ve[n].estado;
                        if (edo == ele){
                            console.log(ve[n].ciudades)
                            const cities = ve[n].ciudades;
                            const capital = ve[n].capital;

                            if (cities !== undefined){

                                ciudades.innerHTML = ""; //aqui limpio todo por si hay algun arreglo
                                for (let c = 0; c < cities.length; c++) {
                                    const city = cities[c];
                                    ciudades.innerHTML += `<option value="${city}">${city}</option>`
                                }

                            } else {
                                
                                ciudades.innerHTML = ""; //aqui limpio todo por si hay algun arreglo
                                ciudades.innerHTML += `<option value="${capital}">${capital}</option>`
                                
                            }

                        
                        }  else if (edo == "Foraneo"){
                                ciudades.innerHTML = ""; //aqui limpio todo por si hay algun arreglo
                                ciudades.innerHTML += `<option value="Foraneo">Foraneo</option>`
                        } 
                        
                    }

                })
                
            })
            .catch( err => console.log(err));

        } 

        if (estadosEdit && ciudadesEdit){
          
          fetch("/country", {
              method: "GET",
              headers: { "Content-Type" : "applications/json"}
          })
          .then(response =>response.json() )
          .then( ve => { 
              //console.log("ve",ve)
                for (let i = 0; i < ve.length; i++) {
                    const element = ve[i].estado;
                    //console.log("estados", element);
                    estadosEdit.innerHTML += `<option value="${element}">${element}</option>`
                }
                estadosEdit.addEventListener('change', ()=>{
                    //console.log(estadosEdit.value);
                    const edo = estadosEdit.value;
                    console.log("edo", edo);

                    for (let n = 0; n < ve.length; n++) {
                            const ele = ve[n].estado;
                            if (edo == ele){
                                console.log(ve[n].ciudades)
                                const cities = ve[n].ciudades;
                                const capital = ve[n].capital;

                                if (cities !== undefined){

                                    ciudadesEdit.innerHTML = ""; //aqui limpio todo por si hay algun arreglo
                                    for (let c = 0; c < cities.length; c++) {
                                        const city = cities[c];
                                        ciudadesEdit.innerHTML += `<option value="${city}">${city}</option>`
                                    }

                                } else {
                                    
                                    ciudadesEdit.innerHTML = ""; //aqui limpio todo por si hay algun arreglo
                                    ciudadesEdit.innerHTML += `<option value="${capital}">${capital}</option>`
                                    
                                }

                            } else if (edo == "Foraneo"){
                                    ciudadesEdit.innerHTML = ""; //aqui limpio todo por si hay algun arreglo
                                    ciudadesEdit.innerHTML += `<option value="Foraneo">Foraneo</option>`
                            } 
                        
                    }

                })
              
          })
          .catch( err => console.log(err));

      } 

        })
        
          

    </script>

    <!-- Script para cambiar username -->

    <script>
        const btnChangeUsername = document.getElementById('btnChangeUsername');
        const unlockUsername = document.getElementById('unlockUsername');//boton editar
        const indexed = document.getElementById('indexed');
        const username = document.getElementById('username');
        const statusName = document.getElementById('statusName');
        const newName = document.getElementById('newName');
        const passwordKey = document.getElementById('passwordKey');
        const alertEditName = document.getElementById('alertEditName');

        unlockUsername.addEventListener('click', ()=>{
            const data = {
                indexed : indexed.value,
                username : username.value
            }

            //console.log("Data para cambio de nombre", data);
            
            fetch('/myaccount/change-review', {

                method: "post",
                body: JSON.stringify(data),
                headers: {"content-type" : "application/json"}

                })
                .then(response =>response.json() )
                .then( jsonx =>{ 
                    console.log("Esto llega del backend change username -->", jsonx);
                    const edit = jsonx.edit; const msg = jsonx.msg; const code = jsonx.code; const note = jsonx.note;
                    console.log("edit", edit); console.log("msg", msg); console.log("code", code); console.log("note", note);
                    if (edit === true){
                        console.log("estamos aqui en ", edit);
                        statusName.innerHTML = `<i class="bi bi-unlock"></i>`;
                        newName.removeAttribute('disabled');
                        newName.focus();
                        passwordKey.removeAttribute('disabled');
                        btnChangeUsername.removeAttribute('disabled');
                        alertEditName.innerHTML = `<div class="alert-success p-2">
                                                        <i class="bi bi-check-circle-fill mx-1"></i> ${msg} 
                                                   </div>`

                        //Ahora que tenemos las colecciones que se deben cambiar enviamos un fecth post al backend
                        //con el nombre que queremos. 
                        btnChangeUsername.addEventListener('click', ()=>{
                            alertEditName.innerHTML = "";
                            const NewName = newName.value;
                            const data = {
                                indexed : indexed.value,
                                username : username.value,
                                newName : NewName,
                                password : passwordKey.value, 
                                code : code
                            }

                            console.log("Esto es la informacion que enviaremos al backend", data);
                            //enviamos el fetch con los datos
                            fetch('/myaccount/change-username', {

                                method: "post",
                                body: JSON.stringify(data),
                                headers: {"content-type" : "application/json"}

                                })
                                .then(response =>response.json() )
                                .then( jsonx => {
                                    
                                    console.log(jsonx)
                                    const edit = jsonx.edit; const msg = jsonx.msg;

                                    if (edit === true){
                                        unlockUsername.setAttribute('disabled', "");
                                        newName.setAttribute('disabled', "");
                                        passwordKey.setAttribute('disabled', "");
                                        btnChangeUsername.setAttribute('disabled', "");
                                        alertEditName.innerHTML = ` <div class="alert-success p-2">
                                                                        <i class="bi bi-check-circle-fill mx-1"></i> ${msg} 
                                                                    </div>
                                                                    <div class="alert-success p-2">
                                                                        <i class="bi bi-door-closed-fill mx-1"></i> Cerrando session en 3 segundos... 
                                                                    </div>
                                                                    `
                                        //ahora vamos a cerrar session......................................................
                                        setTimeout(() => {
                                            // Crear el elemento <a>
                                            const logoutLink = document.createElement('a');
                                            // Establecer el atributo href
                                            logoutLink.href = '/myaccount/logout';
                                            // Simular un clic en el enlace (sin agregarlo al DOM)
                                        logoutLink.click();                                            
                                        }, 3000);
                                                       


                                    } else {
                                        unlockUsername.setAttribute('disabled', "");
                                        alertEditName.innerHTML = ` <div class="alert-danger p-2">
                                                                        <i class="bi bi-x-circle-fill mx-1"></i> ${msg} 
                                                                    </div>`
                                    }


                                })
                                .catch( err => console.log(err));

                            })                            


                    } else {
                        console.log("estamos aqui en ", edit);
                        alertEditName.innerHTML = `<div class="alert-danger p-2">
                                                        <i class="bi bi-x-circle-fill mx-1"></i> ${msg} 
                                                   </div>`

                    }

                 })
                .catch( err => console.log(err));

        })


    </script>    


        <!-- script para crear palabras clave en tienda -->
    <script>

        const hashtags = document.getElementById('hashtags'); //este es el input donde introduzco el hashtag
        const btnHashtag = document.getElementById('btnHashtag'); //este es el boton que crea el hashtag y lo mete dentro del array
        const hashtagsStore = document.getElementById('hashtagsStore'); //este es el store donde se almacena los hashtag "el array";
        const btnSubmitHashtag = document.getElementById('btnSubmitHashtag'); //este es el boton de envio de etiquetas a la ruta para su actualizacion en DB
        const contentAlert = document.querySelector('.contentAlert');
            

        let  boxHashtag = [];

        

        fetch("/myaccount/palabras-clave", {
            method: "GET",
            headers: { "Content-Type" : "applications/json"}
        })
        .then(response =>response.json() )
        .then( jsonx => {
            //console.log("extraemos el objeto para saber que hay en el hastags del usuario")
            //console.log(jsonx.hashtags);
            const tagsReceive = jsonx.hashtags;
            //console.log(tagsReceive);
            if (tagsReceive.length !==0){

                boxHashtag = tagsReceive //aqui tenemos las etiquetas disponibles.
                if (boxHashtag.length !==0){

                        boxHashtag.forEach( (element, i)=> {
                            hashtagsStore.innerHTML += `
                                                        <span class="alert-secondary m-1 py-1 ps-1 pe-4 rounded-3" style="position: relative;"> ${element} <a href="/myaccount/palabras-clave/delete/${i}" class="text-dark">   <i class="bi bi-x claveX" style="position: absolute; right: 5px; top: 6px;"></i> </a> </span>
                                                    `
                        });

                }        
            } 
            
        })
        .catch( err => console.log(err));


        btnHashtag.addEventListener('click', ()=>{
            const newHashtag =  hashtags.value;
            //console.log("newHashtag :",newHashtag)
            if (newHashtag.length !== 0){

                //console.log("boxHashtag cantidad de elementos antes de incertar el nuevo hastags : ",boxHashtag.length)
                if (boxHashtag.length <=8 ){ //esta es la cantidad maxima de palabras clave 8 antes de meter uno mas ya que el limite son 9.
                    boxHashtag.push(newHashtag);
                   
                    hashtagsStore.innerHTML += `
                                                <span class="alert-warning m-1 py-1 ps-1 pe-2 rounded-3" style="position: relative;"> ${newHashtag} </span>
                                            `
                
                    hashtags.value = ""; //limpiamos el input
                    hashtags.focus(); //enviamos el focus
                    btnSubmitHashtag.removeAttribute('disabled'); // activar el boton actualizar.
                    //console.log("boxHashtag", boxHashtag);// perfecto
                                     

                } else {
                    contentAlert.innerHTML = `<div class="form-group my-1">
                                                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                                                        <strong><i class="bi bi-exclamation-triangle-fill me-2"></i> Solo puede agregar nueve (9) Palabras Clave en su sitio.</strong> 
                                                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                                    </div>
                                              </div>
                                             `    
                }    

            }

        });


        btnSubmitHashtag.addEventListener('click', ()=>{

            //console.log(" cantidad de elementos de boxHashtag : ",boxHashtag.length)
            if (boxHashtag.length !== 0){

                    const datos = {
                        boxHashtags : boxHashtag
                    };
                
                    fetch('/myaccount/palabras-clave', {

                    method: "post",
                    body: JSON.stringify(datos),
                    headers: {"content-type" : "application/json"}

                    })
                        .then(response =>response.json() )
                        .then( jsonx => {
                            
                            //type : 'Exito/Denegado'
                            //console.log(jsonx);

                            location.reload();

                        })
                        .catch( err => console.log(err));

            }

        });

        
        //aqui manejo el proceso de eliminacion de los mensajes de alert de la seccion 
        //crear palabras clave del sitio o tienda
          
        const btnClose = document.querySelector('.btn-close');

        if (btnClose){

            window.addEventListener('load', ()=>{
                setTimeout(()=>{
                    btnClose.click();
                }, 5000);
            });
            
        }

            

                            
    </script>

    <script>
        const contentMainQR = document.querySelector('.contentMainQR');
        const contentQR = document.querySelector('.contentQR'); //container que debe verse
        const adQR = document.getElementById('adQR');
        const urlStore = document.getElementById('urlStore');
        const canvas = document.getElementById('qr-canvas');
        const urlTiendaEnPerfilParaDescargar = document.querySelector('.urlTiendaEnPerfilParaDescargar');
        const usernameEnPerfilParaDescargar = document.querySelector('.usernameEnPerfilParaDescargar');
        const downloadCard = document.getElementById('downloadCard');
        

        adQR.addEventListener('click', ()=>{


            const store = urlStore.value;
            const url = `https://blissenet.com/account/${store}`;
            console.log("url", url);
            
            canvas.classList.remove('close');

            const qr = new QRious({
                element: canvas, //en el contenedor donde ira.
                value: url, // informacion que codificara.
                size: 200 // calidad del código QR
            });


            urlTiendaEnPerfilParaDescargar.innerText = `https://blissenet.com/account/${store}`
            usernameEnPerfilParaDescargar.innerText = store;
            contentMainQR.classList.toggle('close');

            
        })

        downloadCard.addEventListener('click', ()=>{

            html2canvas(contentQR).then(canvas =>{
                
                console.log("canvas", canvas);
                const imgData = canvas.toDataURL("image/png"); //esta constante posee ahora una imagen;

                //crear enlace temporal
                //la razon de crear un enlace subyace en que cuando una etiqueta a en su atributo href no tiene una direccion donde redirigir en asumo que debe descargar.
                //por esta razon se usa un elemento o etiqueta <a>
                const link = document.createElement('a'); // aqui creo un elemento <a> de html
                link.href = imgData;

                //nombre del archivo que se descargara
                link.download = 'EnlaceQR.png';
                
                //simular un clic en el enlace para iniciar descarga
                link.click();
        
            });

        })
            
    </script>

    <!-- para cambiar el color de texto, el topBar y el workSpace -->
    <script>
        const containerColor = document.querySelector('.containerColor'); //contenedor del input color;           
        const btnSubmitBgColor = document.getElementById('btnSubmitBackground'); //este es el submit

        //valores de colores establecidos en la base de datos para esta tienda
        const colorText = document.getElementById('colorText').value;
        const colorFrame = document.getElementById('colorFrame').value;
        const colorWorkspace = document.getElementById('colorWorkspace').value;

        //boxColorDefault --------------------------------------------------------------------------
        const defaultBoxtext = document.querySelector('.defaultBoxtext');
        const defaultBoxFrame = document.querySelector('.defaultBoxFrame');
        const defaultBoxWorkspace = document.querySelector('.defaultBoxWorkspace');

        /* esto controla Text ---------------------------------------------------------------------*/
        const defaultText = document.getElementById('defaultText'); //opcion por default
        const customText =  document.getElementById('customText'); //opcion customizbale
        const bgColorText = document.getElementById('bgColorText'); //este es el input color del Text;


        defaultText.addEventListener('click', ()=>{
            //console.log("he marcado la opcion por default");
            bgColorText.classList.add('sinBody');
            bgColorText.value = defaultText.value;
            defaultBoxtext.classList.remove('close');
            //console.log("defaultText.value-->", defaultText.value);
            console.log("bgColorText.value -->", bgColorText.value);
        })

        customText.addEventListener('click', ()=>{
            //console.log("he marcado la opcion customisable");
            //console.log("TextoColor->", TextoColor);
            bgColorText.classList.remove('sinBody');
            defaultBoxtext.classList.add('close');
            bgColorText.value = colorText;
            console.log("bgColorText.value -->", bgColorText.value);
        })
    

        /* esto controla el topbar*/
        const defaultTopbar = document.getElementById('defaultTopbar');
        const customTopbar = document.getElementById('customTopbar');
        const bgColorTopbar = document.getElementById('bgColorTopbar'); //este es el input color Topbar

        /* esto controla Frame ---------------------------------------------------------------------*/

        defaultTopbar.addEventListener('click', ()=>{
            //console.log("he marcado la opcion por default");
            bgColorTopbar.classList.add('sinBody');
            bgColorTopbar.value = defaultTopbar.value;
            defaultBoxFrame.classList.remove('close');
            //console.log("defaultTopbar.value", defaultTopbar.value);
            console.log("bgColorTopbar.value -->", bgColorTopbar.value);
        })

        customTopbar.addEventListener('click', ()=>{
            //console.log("he marcado la opcion customisable");
            //console.log("FrameColor->", FrameColor);
            bgColorTopbar.classList.remove('sinBody');
            defaultBoxFrame.classList.add('close');
            bgColorTopbar.value = colorFrame;
            console.log("bgColorTopbar.value -->", bgColorTopbar.value);
        })


        /* esto controla el workspace -----------------------------------------------------------------*/
        const defaultWorkspace = document.getElementById('defaultWorkspace'); //opcion por defaul
        const customWorkspace = document.getElementById('customWorkspace'); //opcion customizable
        const bgColorWorkspace = document.getElementById('bgColorWorkspace'); //este es el input color workspace;
        

        defaultWorkspace.addEventListener('change', ()=>{
            //console.log("he marcado la opcion por default");
            bgColorWorkspace.classList.add('sinBody');
            bgColorWorkspace.value = defaultWorkspace.value;
            defaultBoxWorkspace.classList.remove('close');
            //console.log("defaultWorkspace.value-->", defaultWorkspace.value);
            console.log("bgColorWorkspace.value -->", bgColorWorkspace.value);
        });

        customWorkspace.addEventListener('change', ()=>{
            //console.log("he marcado la opcion customisable");
            //console.log("WorkspaceColor->", WorkspaceColor);
            bgColorWorkspace.classList.remove('sinBody');
            defaultBoxWorkspace.classList.add('close');
            bgColorWorkspace.value = colorWorkspace;
            console.log("bgColorWorkspace.value -->", bgColorWorkspace.value);
        });

        

        //Enviar formulario
        const formZonaBliss = document.getElementById('formZonaBliss'); //formulario
        const btnSubmitZonaBliss = document.getElementById('btnSubmitZonaBliss'); //boton de formulario
    
        formZonaBliss.addEventListener('submit', (e)=>{
            e.preventDefault()

            console.log(`bgColorText--> ${bgColorText.value}`);
            console.log(`bgColorTopbar--> ${bgColorTopbar.value}`);
            console.log(`bgColorWorkspace--> ${bgColorWorkspace.value}`);
            const ColorText = bgColorText.value;
            const ColorTopbar = bgColorTopbar.value;
            const ColorWorkspace = bgColorWorkspace.value;

                const datos = {
                    ColorText,
                    ColorTopbar,
                    ColorWorkspace
                };

                fetch('/myaccount/bGColor', {

                method: "post",
                body: JSON.stringify(datos),
                headers: {"content-type" : "application/json"}

                })
                .then(response =>response.json() )
                .then( jsonx => {
                    console.log(jsonx)
                    location.reload()
                    })
                .catch( err => console.log(err));
                
                })
                


    </script>

    <script>
        const inpUserTelegram = document.getElementById('inpUserTelegram');
        const alertBlissBotCode0 = document.getElementById('alertBlissBotCode0');
        const alertBlissBotCode1 = document.getElementById('alertBlissBotCode1');
        const alertBlissBotCode2 = document.getElementById('alertBlissBotCode2');
        const alertBlissBotCode3 = document.getElementById('alertBlissBotCode3');

        const unlockUserTelegram = document.getElementById('unlockUserTelegram');
        const btnSendUserTelegram = document.getElementById('btnSendUserTelegram');
        const btnSendUserTelegramLoading = document.getElementById('btnSendUserTelegramLoading');
        
        if (unlockUserTelegram){
            unlockUserTelegram.addEventListener('click', ()=>{
                inpUserTelegram.removeAttribute("disabled");
                inpUserTelegram.focus();
            })
        }

        btnSendUserTelegram.addEventListener('click', ()=>{

            btnSendUserTelegram.classList.add('close') //primero desactivamos el boton Actualizar
            btnSendUserTelegramLoading.classList.remove('close') //segundo activamos el boton disbled spining
            const userTelegramValue = inpUserTelegram.value.trim();
            userTelegram = userTelegramValue.replace(/@/g, "").replace(/\s+/g, "");
            

            //nota:  la expresión regular `/\s+/` se utiliza para quitar los espacios en blanco en una cadena de texto. 
            //nota:  La "g" al final de la expresión regular indica que la búsqueda debe ser global, es decir, se aplicará a todo el texto, no solo a la primera coincidencia. Así que si tienes múltiples espacios en blanco en una cadena, usar `/\s+/g` eliminará todos esos espacios
            //nota:  el tercer atributo "" significa que reeplazara estos espacios por nada osea quita los espacios. si coloco "x" todos los espacios se reemplazaran por una x. 
            
            inpUserTelegram.setAttribute("disabled", "");
            console.log("userTelegram -->", userTelegram);

            //ahora enviamos al backend 
            
            const datos = {
                userTelegram
                };

            fetch("/acount/blissBot/userTelegram", {

            method: "post",
            body: JSON.stringify(datos),
            headers: {"content-type" : "application/json"}

            })
            .then(response =>response.json() )
            .then( jsonx =>{ 
                console.log(jsonx);
                let code = jsonx.code;
                console.log("El code recibido es --->", code);
                console.log("El code es te type --->", typeof code);


                if (code === 1){

                    alertBlissBotCode1.classList.remove('close');
                    setTimeout(() => {
                        alertBlissBotCode1.classList.add('close');
                        estadoInicialBTN()
                    }, 4000);

                } else if (code === 0){

                    alertBlissBotCode0.classList.remove('close');
                    setTimeout(() => {
                        alertBlissBotCode0.classList.add('close');
                        estadoInicialBTN()
                    }, 4000);

                } else if (code === 2){

                    alertBlissBotCode2.classList.remove('close');
                    setTimeout(() => {
                        alertBlissBotCode2.classList.add('close');
                        estadoInicialBTN()
                    }, 4000);


                } else if (code === 3){

                    alertBlissBotCode3.classList.remove('close');
                    setTimeout(() => {
                        alertBlissBotCode3.classList.add('close');
                        estadoInicialBTN()
                    }, 4000);
                    
                }

                function estadoInicialBTN(){
                    //colocamos los botones como deben estar 
                    btnSendUserTelegram.classList.remove('close') //primero desactivamos el boton Actualizar
                    btnSendUserTelegramLoading.classList.add('close') //segundo activamos el boton disbled spining
                }

                
            })
            .catch( err => console.log(err));

        })

    </script>


       

</body>
